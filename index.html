<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs literate configuration</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
</head>
<body>
<div id="content">
<h1 class="title">Emacs literate configuration</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgc47bbc2">A foreword on this config and Lisp</a></li>
<li><a href="#org732670e">General configuration</a>
<ul>
<li><a href="#orge549af5">Add the GNU ELPA and MELPA archives, and then ensure use-package</a></li>
<li><a href="#orgcd543b4">One editor to rule them all, one editor to find them</a></li>
<li><a href="#org763aa1f">Prevent custom from messing with my config file</a></li>
<li><a href="#org9d21ad5">Only highlight programming and text buffers</a></li>
<li><a href="#orge772438">Old habits die hard</a></li>
<li><a href="#org563ad5e">Linear undo system</a></li>
<li><a href="#org29a5dc1">Themes</a></li>
<li><a href="#org7e598dd">Handle very long lines</a></li>
<li><a href="#orgcac6f12">Improved parentheses</a></li>
<li><a href="#org8c9d875">Highlight parentheses with different color</a></li>
<li><a href="#org25a95df">Minimap</a></li>
<li><a href="#orgfa0aaaa">Fancy mode line</a></li>
<li><a href="#org948a76b">Multiple cursors support</a></li>
<li><a href="#org7fdb41d">Tabs-bar-mode</a></li>
</ul>
</li>
<li><a href="#orgd626467">Autocompletion, syntax checking, spell checking and help</a>
<ul>
<li><a href="#org5396478">Complete everything (but code) in Emacs with ivy</a></li>
<li><a href="#org8cfd378">Command's information with which-key</a></li>
<li><a href="#orgc576be8">Improved help system with Helpful</a></li>
<li><a href="#org9d576cd">Code tags</a></li>
<li><a href="#org68885e8">Completion with company</a></li>
<li><a href="#orgdc1dd26">Language serve protocol</a></li>
<li><a href="#org9263029">Spell checking with FlySpell</a></li>
<li><a href="#org758c0c4">Syntax checking with Flycheck</a></li>
<li><a href="#org96723ff">Snippets</a></li>
</ul>
</li>
<li><a href="#org5411542">File browsing and terminals</a>
<ul>
<li><a href="#org6d862b7">Terminal support with Vterm</a></li>
<li><a href="#orgeca424b">File browsers</a></li>
<li><a href="#orgd47c33b">PDF support</a></li>
<li><a href="#org20201b1">TRAMP</a></li>
</ul>
</li>
<li><a href="#org93466c5">Programming</a>
<ul>
<li><a href="#org2294122">Lisp stuff</a></li>
<li><a href="#org24306bf">FORTRAN stuff</a></li>
<li><a href="#orgfc8a32a">IRPF90</a></li>
<li><a href="#org2f36ecb">C/C++ stuff</a></li>
<li><a href="#org8b6db2b">Python stuff</a></li>
<li><a href="#org2f819f0">Cuda stuff</a></li>
<li><a href="#org6380954">Julia stuff</a></li>
<li><a href="#org9bcf7a3">Haskell stuff</a></li>
<li><a href="#org97e527d">Makefile stuff</a></li>
<li><a href="#orgffee5df">Perl stuff</a></li>
<li><a href="#org2928531">Raku stuff</a></li>
<li><a href="#orge031117">Latex</a></li>
<li><a href="#org721b89c">Org-mode stuff</a></li>
<li><a href="#orgfdfbd15">Web stuff</a></li>
<li><a href="#orgb179975">YAML stuff</a></li>
<li><a href="#orgb873533">Markdown stuff</a></li>
<li><a href="#orga36b7e6">reStructuredText stuff</a></li>
<li><a href="#orgbbd4139">Lua stuff</a></li>
<li><a href="#org54a1914">JSON stuff</a></li>
<li><a href="#orgefe3792">Cmake stuff</a></li>
<li><a href="#orgb0e3f4a">Git stuff</a></li>
<li><a href="#org5016946">The heretic Vim stuff</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgc47bbc2" class="outline-2">
<h2 id="orgc47bbc2">A foreword on this config and Lisp</h2>
<div class="outline-text-2" id="text-orgc47bbc2">
<p>
Welcome to my literate Emacs configuration. As many specimens of the pedigree,
this config ratifies the Newtonian aphorism involving giants. Many thanks to all the unsung
heroes whose Emacs Lisp snippets assemble the DNA of this file. Apropos of Lisp, I have
recently had a glimpse of the enlightenment promised by so many hacker's lores. Here is one
of my favorites, written by RMS: 
</p>

<p class="verse">
In days long ago,<br />
When clocks were so slow,<br />
These basic keystrokes<br />
Took too long for folks,<br />
Unless they were writ<br />
In C code to flit.<br />
Today that's not so,<br />
In Lisp they can go.<br />
</p>

<p>
The beauty of literate configurations with org-mode is that it allows for maintaining an Emacs
config, a website, and an org-mode markup file at the same time. For example, in the header
of this file you can find the following code:
</p>

<div class="org-src-container">
<pre class="src src-org-mode">#+TITLE: Emacs literate configuration
#+PROPERTY: header-args :tangle ../init.el
#+OPTIONS: toc:2 num:nil
#+SETUPFILE: https://fniessen.github.io/org-html-themes/org/theme-readtheorg.setup
</pre>
</div>

<p>
With this options, I tangle (every time I save, see the org-mode <a href="#orgbac126f">hook</a>) the source code blocks
in this config to my Emacs <code>init.el</code>, and I set up the ReadTheOrg theme that the website uses.
</p>
</div>
</div>

<div id="outline-container-org732670e" class="outline-2">
<h2 id="org732670e">General configuration</h2>
<div class="outline-text-2" id="text-org732670e">
</div>
<div id="outline-container-orge549af5" class="outline-3">
<h3 id="orge549af5">Add the GNU ELPA and MELPA archives, and then ensure use-package</h3>
<div class="outline-text-3" id="text-orge549af5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">setq</span> package-archives '((<span style="color: #8b2252;">"gnu"</span> . <span style="color: #8b2252;">"https://elpa.gnu.org/packages/"</span>)
       (<span style="color: #8b2252;">"melpa"</span> . <span style="color: #8b2252;">"https://melpa.org/packages/"</span>))
      package-quickstart t)

(<span style="color: #a020f0;">unless</span> (<span style="color: #a020f0;">and</span> (fboundp 'package-installed-p)
       (package-installed-p 'use-package))
  (package-initialize)
  (package-refresh-contents)
  (package-install 'use-package))
</pre>
</div>
</div>
</div>


<div id="outline-container-orgcd543b4" class="outline-3">
<h3 id="orgcd543b4">One editor to rule them all, one editor to find them</h3>
<div class="outline-text-3" id="text-orgcd543b4">
<p>
Here I use the <code>use-package</code> macro to keep all Emacs internal settings organized in one single block.
The variables have self-explanatory names, but I have added a few comments for the sake of clarity. 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package emacs
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:config</span>
  ;; <span style="color: #b22222;">Emacs internal options</span>
  (<span style="color: #a020f0;">setq-default</span> initial-scratch-message <span style="color: #8b2252;">";; Welcome Panadestein!!"</span>
                ring-bell-function #'ignore
                user-full-name <span style="color: #8b2252;">"Ram&#243;n L. Panad&#233;s-Barrueta, PhD"</span>
                inhibit-startup-screen t
                custom-safe-themes t)
  (<span style="color: #a020f0;">setq</span> backup-directory-alist
        `((<span style="color: #8b2252;">"."</span> . ,(concat user-emacs-directory <span style="color: #8b2252;">"backups"</span>))))
  (menu-bar-mode -1)
  (tool-bar-mode -1)
  (show-paren-mode 1)
  (fringe-mode '(0 . 0))
  ;; <span style="color: #b22222;">Make ESC close prompts</span>
  (global-set-key (kbd <span style="color: #8b2252;">"&lt;escape&gt;"</span>) 'keyboard-escape-quit)
  ;; <span style="color: #b22222;">No scroll bar, always full screen</span>
  (add-to-list 'default-frame-alist
               '(vertical-scroll-bars . nil))
  (add-to-list 'default-frame-alist '(fullscreen . maximized))
  ;; <span style="color: #b22222;">Font</span>
  (add-to-list 'default-frame-alist '(font . <span style="color: #8b2252;">"Fira Code-18"</span>))
  ;; <span style="color: #b22222;">Terminal transparency</span>
  (face-spec-set 'default
                 '((((type tty)) <span style="color: #483d8b;">:background</span> <span style="color: #8b2252;">"unspecified-bg"</span>)))
  ;; <span style="color: #b22222;">Line numbers</span>
  (<span style="color: #a020f0;">when</span> (version&lt;= <span style="color: #8b2252;">"26.0.50"</span> emacs-version)
    (global-display-line-numbers-mode)
    (<span style="color: #a020f0;">setq</span> display-line-numbers 'relative))
  ;; <span style="color: #b22222;">Remember line number</span>
  (<span style="color: #a020f0;">if</span> (fboundp #'save-place-mode)
      (save-place-mode +1)
    (<span style="color: #a020f0;">setq-default</span> save-place t)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org763aa1f" class="outline-3">
<h3 id="org763aa1f">Prevent custom from messing with my config file</h3>
<div class="outline-text-3" id="text-org763aa1f">
<p>
This helps clearing the clutter and increases reproducibility of the config
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">let</span>
    ((customization-file (expand-file-name <span style="color: #8b2252;">"custom.el"</span> user-emacs-directory)))
  (<span style="color: #a020f0;">when</span> (file-exists-p customization-file)
    (<span style="color: #a020f0;">setq</span> custom-file customization-file)
    (load custom-file 'noerror)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9d21ad5" class="outline-3">
<h3 id="org9d21ad5">Only highlight programming and text buffers</h3>
<div class="outline-text-3" id="text-org9d21ad5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package hl-line
  <span style="color: #483d8b;">:config</span>
  (global-hl-line-mode +1)
  <span style="color: #483d8b;">:hook</span>
  (prog-mode . hl-line-mode)
  (text-mode . hl-line-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge772438" class="outline-3">
<h3 id="orge772438">Old habits die hard</h3>
<div class="outline-text-3" id="text-orge772438">
<p>
I cannot just waste years of Vim muscle memory workout. Although the Emacs keybindings
slowly start to <i>klappt</i>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package evil
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:demand</span> t
  <span style="color: #483d8b;">:config</span>
  (evil-mode 1)
  (evil-set-undo-system 'undo-tree)
  ;; <span style="color: #b22222;">This is the cleanest solution for vterm</span>
  (evil-set-initial-state 'vterm-mode 'emacs))
</pre>
</div>
</div>
</div>

<div id="outline-container-org563ad5e" class="outline-3">
<h3 id="org563ad5e">Linear undo system</h3>
<div class="outline-text-3" id="text-org563ad5e">
<p>
This is one of the not so awesome quirks of Emacs IMHO. Maybe one day I will understand
its power. I keep it linear for the moment.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package undo-tree
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  (global-undo-tree-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org29a5dc1" class="outline-3">
<h3 id="org29a5dc1">Themes</h3>
<div class="outline-text-3" id="text-org29a5dc1">
<p>
As Nietzsche said, the voice of beauty speaks softly; it creeps only into the most fully awakened souls.
Ergo the importance of a visually pleasant editor. These are my top three themes:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package doom-themes
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:config</span>
  ;; <span style="color: #b22222;">Global settings (defaults)</span>
  (<span style="color: #a020f0;">setq</span> doom-themes-enable-bold t
        doom-themes-enable-italic t)
  (load-theme 'doom-vibrant t)
  ;; <span style="color: #b22222;">Enable flashing mode-line on errors</span>
  (doom-themes-visual-bell-config)
  ;; <span style="color: #b22222;">Enable custom neotree theme (all-the-icons must be installed!)</span>
  (doom-themes-neotree-config)
  ;; <span style="color: #b22222;">or for treemacs users</span>
  (<span style="color: #a020f0;">setq</span> doom-themes-treemacs-theme <span style="color: #8b2252;">"doom-atom"</span>)
  (doom-themes-treemacs-config)
  ;; <span style="color: #b22222;">Corrects (and improves) org-mode's native fontification.</span>
  (doom-themes-org-config))

(use-package gruvbox-theme
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:disabled</span>
  <span style="color: #483d8b;">:init</span> (load-theme 'gruvbox-dark-soft t))

(use-package blackboard-theme
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:disabled</span>
  <span style="color: #483d8b;">:init</span> (load-theme 'blackboard t))

;; <span style="color: #b22222;">Highlight numbers</span>

(use-package highlight-numbers
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:hook</span>
  (prog-mode . highlight-numbers-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7e598dd" class="outline-3">
<h3 id="org7e598dd">Handle very long lines</h3>
<div class="outline-text-3" id="text-org7e598dd">
<p>
Another well-known issue of Emacs, although it rarely affects me.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package so-long
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:hook</span>
  (after-init-hook . global-so-long-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcac6f12" class="outline-3">
<h3 id="orgcac6f12">Improved parentheses</h3>
<div class="outline-text-3" id="text-orgcac6f12">
<p>
This helps a lot when lisping.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package smartparens
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:hook</span> (prog-mode . smartparens-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8c9d875" class="outline-3">
<h3 id="org8c9d875">Highlight parentheses with different color</h3>
<div class="outline-text-3" id="text-org8c9d875">
<p>
Another eye candy. Parenthesis of different colors are very helpful in Lisp though.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package rainbow-delimiters
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:hook</span> (prog-mode . rainbow-delimiters-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org25a95df" class="outline-3">
<h3 id="org25a95df">Minimap</h3>
<div class="outline-text-3" id="text-org25a95df">
<p>
This package implements Sublime Text's minimap in Emacs. Although I am quasi-satisfied with
this config, I am not ready to use it on a regular basis.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package minimap
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> minimap-window-location 'right)
  (<span style="color: #a020f0;">setq</span> minimap-minimum-width 10)
  (<span style="color: #a020f0;">setq</span> minimap-dedicated-window t)
  (<span style="color: #a020f0;">setq</span> minimap-hide-cursor t)
  (<span style="color: #a020f0;">setq</span> minimap-hide-scroll-bar t)
  (<span style="color: #a020f0;">setq</span> minimap-hide-fringes t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfa0aaaa" class="outline-3">
<h3 id="orgfa0aaaa">Fancy mode line</h3>
<div class="outline-text-3" id="text-orgfa0aaaa">
<p>
Another gift from the Doom Emacs community. Best modeline I have seem for Emacs.
The additional package <code>all-the-icons</code> provides awesome icons not only for the
modeline, but also for file managers and many other packages.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package all-the-icons
  ;; <span style="color: #b22222;">Needs a manual `M-x all-the-icons-install-fonts`</span>
  ;; <span style="color: #b22222;">:ensure t</span>
  <span style="color: #483d8b;">:load-path</span> <span style="color: #8b2252;">"~/.emacs.d/src/all-the-icons/"</span>)

(use-package doom-modeline
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span> (doom-modeline-mode 1)
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> doom-modeline-height 40)
  (<span style="color: #a020f0;">setq</span> doom-modeline-buffer-file-name-style 'relative-to-project)
  (<span style="color: #a020f0;">setq</span> doom-line-numbers-style 'relative)
  (<span style="color: #a020f0;">setq</span> doom-modeline-major-mode-icon t)
  (<span style="color: #a020f0;">setq</span> doom-modeline-buffer-state-icon t)
  (<span style="color: #a020f0;">setq</span> doom-modeline-major-mode-color-icon t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org948a76b" class="outline-3">
<h3 id="org948a76b">Multiple cursors support</h3>
<div class="outline-text-3" id="text-org948a76b">
<p>
This package is very interesting, although not so ergonomic IMHO. Here are some of the
most relevant commands:
</p>

<ul class="org-ul">
<li><code>C-n</code> make and go to next match</li>
<li><code>C-p</code> make and go to previous match</li>
<li><code>g r q</code> stop all cursors</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package evil-mc
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:config</span>
  (global-evil-mc-mode 1))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7fdb41d" class="outline-3">
<h3 id="org7fdb41d">Tabs-bar-mode</h3>
<div class="outline-text-3" id="text-org7fdb41d">
<p>
I could not manage to use this package without side effects in Evil-mode. Here is a simple
usage:
</p>

<ul class="org-ul">
<li><code>C-x t f "filename"</code> opens file in new tab</li>
<li><code>C-x t 0</code> closes current tab</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package tabbar
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:bind</span> ((<span style="color: #8b2252;">"C-&lt;right&gt;"</span> . tabbar-forward)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd626467" class="outline-2">
<h2 id="orgd626467">Autocompletion, syntax checking, spell checking and help</h2>
<div class="outline-text-2" id="text-orgd626467">
</div>
<div id="outline-container-org5396478" class="outline-3">
<h3 id="org5396478">Complete everything (but code) in Emacs with ivy</h3>
<div class="outline-text-3" id="text-org5396478">
<p>
The usage of ivy and their autocompletion army (swiper, counsel) has greatly increased my
productivity. It is also very well integrated with the Doom Emacs theme I use. The swiper
search feature (<code>C-s</code>) is far more powerful than the default Emacs counterpart. 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ivy
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:diminish</span>
  <span style="color: #483d8b;">:bind</span>
  ((<span style="color: #8b2252;">"C-s"</span> . swiper))
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> ivy-use-virtual-buffers t)
  (ivy-mode 1))

(use-package swiper
  <span style="color: #483d8b;">:ensure</span> t)

(use-package counsel
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:after</span> ivy
  <span style="color: #483d8b;">:hook</span>
  (after-init . counsel-mode)
  <span style="color: #483d8b;">:config</span> (counsel-mode)
  <span style="color: #483d8b;">:bind</span>
  (<span style="color: #8b2252;">"M-x"</span> . counsel-M-x)
  (<span style="color: #8b2252;">"C-x b"</span> . counsel-ibuffer)
  (<span style="color: #8b2252;">"C-M-l"</span> . counsel-imenu)
  (<span style="color: #8b2252;">"C-x C-f"</span> . counsel-find-file)
  (<span style="color: #8b2252;">"&lt;f1&gt; v"</span> . counsel-describe-variable)
  (<span style="color: #8b2252;">"&lt;f1&gt; f"</span> . counsel-descbinds-function))

(use-package ivy-prescient
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:after</span> counsel
  <span style="color: #483d8b;">:config</span>
  (ivy-prescient-mode 1))

(use-package ivy-rich
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  (ivy-rich-mode 1)
  <span style="color: #483d8b;">:after</span> counsel
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> ivy-format-function #'ivy-format-function-line)
  (<span style="color: #a020f0;">setq</span> ivy-rich-display-transformers-list
        (plist-put ivy-rich-display-transformers-list
                   'ivy-switch-buffer
                   '(<span style="color: #483d8b;">:columns</span>
                     ((ivy-rich-candidate (<span style="color: #483d8b;">:width</span> 40))
                      (ivy-rich-switch-buffer-indicators
                       (<span style="color: #483d8b;">:width</span> 4 <span style="color: #483d8b;">:face</span> error <span style="color: #483d8b;">:align</span> right))
                      (ivy-rich-switch-buffer-major-mode
                       (<span style="color: #483d8b;">:width</span> 12 <span style="color: #483d8b;">:face</span> warning))
                      (ivy-rich-switch-buffer-project
                       (<span style="color: #483d8b;">:width</span> 15 <span style="color: #483d8b;">:face</span> success))
                      (ivy-rich-switch-buffer-path
                       (<span style="color: #483d8b;">:width</span> (<span style="color: #a020f0;">lambda</span> (x) (ivy-rich-switch-buffer-shorten-path
                                            x (ivy-rich-minibuffer-width 0.3))))))))))

(use-package all-the-icons-ivy
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:demand</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8cfd378" class="outline-3">
<h3 id="org8cfd378">Command's information with which-key</h3>
<div class="outline-text-3" id="text-org8cfd378">
<p>
Which-key is a must have to sail the raging seas of Emacs' packages keybindings. This suggestions
come very handy when exploring a new package.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package which-key
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:diminish</span>
  <span style="color: #483d8b;">:custom</span>
  (which-key-idle-secondary-delay 0.01)
  (which-key-dont-use-unicode t)
  <span style="color: #483d8b;">:config</span>
  (which-key-mode t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc576be8" class="outline-3">
<h3 id="orgc576be8">Improved help system with Helpful</h3>
<div class="outline-text-3" id="text-orgc576be8">
<p>
Emacs default help system is very good. Helpful makes it awesome by adding colors and source code
exploration.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package helpful
  <span style="color: #483d8b;">:custom</span>
  (counsel-describe-variable-function #'helpful-variable)
  <span style="color: #483d8b;">:bind</span>
  (<span style="color: #8b2252;">"C-h f"</span> . helpful-function)
  ([remap describe-symbol] . helpful-symbol)
  ([remap describe-variable] . helpful-variable)
  ([remap describe-command] . helpful-command)
  ([remap describe-key] . helpful-key))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9d576cd" class="outline-3">
<h3 id="org9d576cd">Code tags</h3>
<div class="outline-text-3" id="text-org9d576cd">
<p>
Using code tags when developing in large scale codes (like electronic structure packages)
can save your fingers from <code>grep</code> induced damage. This package uses the efficient <code>counsel</code>
infrastructure to make tags navigation seamless.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package counsel-etags
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:bind</span> ((<span style="color: #8b2252;">"C-]"</span> . counsel-etags-find-tag-at-point))
  <span style="color: #483d8b;">:init</span>
  (add-hook 'prog-mode-hook
            (<span style="color: #a020f0;">lambda</span> ()
              (add-hook 'after-save-hook
                        'counsel-etags-virtual-update-tags 'append 'local)))
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> counsel-etags-update-interval 60)
  (<span style="color: #a020f0;">push</span> <span style="color: #8b2252;">"build"</span> counsel-etags-ignore-directories))
</pre>
</div>
</div>
</div>

<div id="outline-container-org68885e8" class="outline-3">
<h3 id="org68885e8">Completion with company</h3>
<div class="outline-text-3" id="text-org68885e8">
<p>
Source code completions. An all time classic.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package company
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  (add-hook 'after-init-hook 'global-company-mode)
  (<span style="color: #a020f0;">setq</span> company-minimum-prefix-length 3
        company-selection-wrap-around t
        company-tooltip-limit 20
        company-tooltip-minimum-width 15
        company-tooltip-align-annotations t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdc1dd26" class="outline-3">
<h3 id="orgdc1dd26">Language serve protocol</h3>
<div class="outline-text-3" id="text-orgdc1dd26">
<p>
My LSP config is largely work in progress. It includes at the moment Python configuration
and some UI improvements.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package lsp-mode
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> lsp-idle-delay 0.5
        lsp-enable-symbol-highlighting t
        lsp-enable-snippet nil
        lsp-pyls-plugins-flake8-enabled t)
  (lsp-register-custom-settings
   '((<span style="color: #8b2252;">"pyls.plugins.pyls_mypy.enabled"</span> nil nil)
     (<span style="color: #8b2252;">"pyls.plugins.pyls_mypy.live_mode"</span> nil t)
     (<span style="color: #8b2252;">"pyls.plugins.pyls_black.enabled"</span> t t)
     (<span style="color: #8b2252;">"pyls.plugins.pyls_isort.enabled"</span> t t)
     ;; <span style="color: #b22222;">Disable duplicated by flake8</span>
     (<span style="color: #8b2252;">"pyls.plugins.pycodestyle.enabled"</span> nil t)
     (<span style="color: #8b2252;">"pyls.plugins.mccabe.enabled"</span> nil t)
     (<span style="color: #8b2252;">"pyls.plugins.pyflakes.enabled"</span> nil t)))
  <span style="color: #483d8b;">:hook</span>
  ((python-mode . lsp)
   (lsp-mode . lsp-enable-which-key-integration)))

(use-package lsp-ui
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> lsp-ui-sideline-show-hover t
        lsp-ui-sideline-delay 0.5
        lsp-ui-doc-delay 5
        lsp-ui-sideline-ignore-duplicates t
        lsp-ui-doc-position 'bottom
        lsp-ui-doc-alignment 'frame
        lsp-ui-doc-header nil
        lsp-ui-doc-include-signature t
        lsp-ui-doc-use-childframe t)
  <span style="color: #483d8b;">:commands</span> lsp-ui-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org9263029" class="outline-3">
<h3 id="org9263029">Spell checking with FlySpell</h3>
<div class="outline-text-3" id="text-org9263029">
<p>
FlySpell does a lot out of the box, therefore I have a very basic config.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package flyspell
  <span style="color: #483d8b;">:hook</span>
  ((prog-mode . flyspell-prog-mode)
   (org-mode . turn-on-flyspell))
  <span style="color: #483d8b;">:config</span>
  (flyspell-mode +1))
</pre>
</div>
</div>
</div>

<div id="outline-container-org758c0c4" class="outline-3">
<h3 id="org758c0c4">Syntax checking with Flycheck</h3>
<div class="outline-text-3" id="text-org758c0c4">
<p>
Flycheck is another helpful tool. It has some limitations though. For instance, the continuous
checking can harm performance, and some checkers can introduce huge penalties (I had to
disable <code>mypy</code>). With this config I only check when saving.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package flycheck
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">setq-default</span> flycheck-disabled-checkers '(python-mypy))
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> flycheck-check-syntax-automatically '(save mode-enable))
  (<span style="color: #a020f0;">setq</span> flycheck-scheme-chicken-executable <span style="color: #8b2252;">"chicken-csc"</span>)
  <span style="color: #483d8b;">:hook</span>
  (after-init . global-flycheck-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org96723ff" class="outline-3">
<h3 id="org96723ff">Snippets</h3>
<div class="outline-text-3" id="text-org96723ff">
<p>
Yasnippet is a fairly complete collection of snippets with a very intuitive syntax. Painful is the absence
of Scheme snippets. I have written some custom snippets for the IRPF90 derived mode, which I also include
here.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package yasnippet
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:config</span>
  (yas-global-mode 1))

(use-package yasnippet-snippets
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:after</span> yasnippet)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-yasnippet"># -*- mode: snippet -*-
# name: ASSERT 
# key: ass
# --
ASSERT ($0)%
</pre>
</div>

<div class="org-src-container">
<pre class="src src-yasnippet"># -*- mode: snippet -*-
# name: BEGIN_DOC ... END_DOC
# key: bc
# --
BEGIN_DOC
! $0
END_DOC%   
</pre>
</div>

<div class="org-src-container">
<pre class="src src-yasnippet"># -*- mode: snippet -*-
# name: BEGIN_PROVIDER ... END_PROVIDER 
# key: bp
# --
BEGIN_PROVIDER [${1:integer}, ${2:var}]
    $0
END_PROVIDER%  
</pre>
</div>

<div class="org-src-container">
<pre class="src src-yasnippet"># -*- mode: snippet -*-
# -*- mode: snippet -*-
# name: BEGIN_SHELL ... END_SHELL 
# key: bsh
# --
BEGIN_SHELL [ ${1:/bin/bash} ]
    $0
END_SHELL%  
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5411542" class="outline-2">
<h2 id="org5411542">File browsing and terminals</h2>
<div class="outline-text-2" id="text-org5411542">
</div>
<div id="outline-container-org6d862b7" class="outline-3">
<h3 id="org6d862b7">Terminal support with Vterm</h3>
<div class="outline-text-3" id="text-org6d862b7">
<p>
This package uses a C library instead of Lisp to emulate the terminals. It is my favorite emulator
currently, although Eshell could be an alternative.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package vterm
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:preface</span>
  (<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my/vterm-mode-hook</span> ()
    (hl-line-mode -1)
    (display-line-numbers-mode -1)
    (display-fill-column-indicator-mode -1)
    (auto-fill-mode -1))
  <span style="color: #483d8b;">:hook</span>
  ((vterm-mode . my/vterm-mode-hook))
  <span style="color: #483d8b;">:custom</span>
  (vterm-kill-buffer-on-exit t)
  (vterm-max-scrollback 10000)
  <span style="color: #483d8b;">:init</span>
  (which-key-add-key-based-replacements <span style="color: #8b2252;">"C-c t"</span> <span style="color: #8b2252;">"term"</span>)
  <span style="color: #483d8b;">:config</span>
  ;; <span style="color: #b22222;">Add find-file-other-window to accepted commands</span>
  (<span style="color: #a020f0;">setq</span> vterm-shell (executable-find <span style="color: #8b2252;">"zsh"</span>))
  (add-to-list 'vterm-eval-cmds
               '(<span style="color: #8b2252;">"find-file-other-window"</span> find-file-other-window)))

(use-package vterm-toggle
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:bind</span> ((<span style="color: #8b2252;">"C-c p"</span> . vterm-toggle-cd)
         <span style="color: #483d8b;">:map</span> vterm-mode-map
         ((<span style="color: #8b2252;">"&lt;C-return&gt;"</span> . vterm-toggle-insert-cd)
          (<span style="color: #8b2252;">"C-M-n"</span> . vterm-toggle-forward)
          (<span style="color: #8b2252;">"C-M-p"</span> . vterm-toggle-backward)))
  <span style="color: #483d8b;">:custom</span>
  (vterm-toggle-scope 'project)
  (vterm-toggle-project-root t)
  (vterm-toggle-fullscreen-p nil)
  <span style="color: #483d8b;">:config</span>
  ;; <span style="color: #b22222;">Show at bottom</span>
  (add-to-list 'display-buffer-alist
               '((<span style="color: #a020f0;">lambda</span>(bufname _)
                   (<span style="color: #a020f0;">with-current-buffer</span> bufname
                     (equal major-mode 'vterm-mode)))
                 ;; <span style="color: #b22222;">(display-buffer-reuse-window display-buffer-at-bottom)</span>
                 (display-buffer-reuse-window display-buffer-in-direction)
                 ;;<span style="color: #b22222;">display-buffer-in-direction/direction/dedicated is added in emacs27</span>
                 (direction . bottom)
                 (dedicated . t) ;<span style="color: #b22222;">dedicated is supported in emacs27</span>
                 (reusable-frames . visible)
                 (window-height . 0.3))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgeca424b" class="outline-3">
<h3 id="orgeca424b">File browsers</h3>
<div class="outline-text-3" id="text-orgeca424b">
<p>
After trying a couple of file browsers I understood that all I needed was already there.
Dired keeps me in Emacs.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ranger
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:disabled</span>
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> ranger-preview-file t))

(use-package neotree
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:bind</span> (<span style="color: #8b2252;">"&lt;f8&gt;"</span> . 'neotree-toggle)
  <span style="color: #483d8b;">:init</span>
  ;; <span style="color: #b22222;">slow rendering</span>
  (<span style="color: #a020f0;">setq</span> inhibit-compacting-font-caches t)
  ;; <span style="color: #b22222;">set icons theme</span>
  (<span style="color: #a020f0;">setq</span> neo-theme (<span style="color: #a020f0;">if</span> (display-graphic-p) 'icons 'arrow))
  (<span style="color: #a020f0;">setq</span> neo-smart-open t))

(use-package all-the-icons-dired
  <span style="color: #483d8b;">:ensure</span> t)

(use-package dired
  ;; <span style="color: #b22222;">TIP: use ( to hide file information</span>
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:custom</span> ((dired-listing-switches <span style="color: #8b2252;">"-agho --group-directories-first"</span>))
  <span style="color: #483d8b;">:commands</span> (dired dired-jump)
  <span style="color: #483d8b;">:bind</span> ((<span style="color: #8b2252;">"C-x C-j"</span> . dired-jump))
  <span style="color: #483d8b;">:hook</span>
  (dired-mode . all-the-icons-dired-mode)
  <span style="color: #483d8b;">:config</span>
  (evil-define-key 'normal 'dired-mode-map
    <span style="color: #8b2252;">"h"</span> 'dired-single-up-directory
    <span style="color: #8b2252;">"l"</span> 'dired-single-buffer))

(use-package dired-single
  <span style="color: #483d8b;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd47c33b" class="outline-3">
<h3 id="orgd47c33b">PDF support</h3>
<div class="outline-text-3" id="text-orgd47c33b">
<p>
Another C Library, it works better than the default Emacs PDF viewer, for instance it allows hyperlinks.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package pdf-tools
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:pin</span> manual
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq-default</span> pdf-view-display-size 'fit-page)
  (<span style="color: #a020f0;">setq</span> pdf-annot-activate-created-annotations t)
  (pdf-tools-install))
</pre>
</div>
</div>
</div>

<div id="outline-container-org20201b1" class="outline-3">
<h3 id="org20201b1">TRAMP</h3>
<div class="outline-text-3" id="text-org20201b1">
<p>
Another must have of Emacs. This packages together with dired saves me from configuring
my editor all the time in obscure supercomputers around the world.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package tramp
  <span style="color: #483d8b;">:ensure</span> t)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org93466c5" class="outline-2">
<h2 id="org93466c5">Programming</h2>
<div class="outline-text-2" id="text-org93466c5">
<p>
Here you can find my configuration for different programming languages. I will introduce it
in a laconic manner, because this section is rather opinionated.
</p>
</div>

<div id="outline-container-org2294122" class="outline-3">
<h3 id="org2294122">Lisp stuff</h3>
<div class="outline-text-3" id="text-org2294122">
<p>
The language that give birth to the "Maxwell equations of software"
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package lispy
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:hook</span> ((emacs-lisp-mode . lispy-mode)
         (scheme-mode . lispy-mode)))

(use-package slime
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:mode</span> (<span style="color: #8b2252;">"\\.lisp\\'"</span> . lisp-mode)
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">setq</span> slime-net-coding-system 'utf-8-unix
        inferior-lisp-program <span style="color: #8b2252;">"sbcl"</span>)
  (add-to-list 'slime-contribs 'slime-fancy)
  (add-to-list 'slime-contribs 'slime-repl))

(use-package geiser
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> geiser-active-implementations '(chicken)))

(use-package geiser-chicken
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">setq</span> geiser-chicken-binary <span style="color: #8b2252;">"chicken-csi"</span>))

(use-package racket-mode
  <span style="color: #483d8b;">:ensure</span> t)

(use-package hy-mode
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:mode</span> <span style="color: #8b2252;">"\\.hy\\'"</span>
  <span style="color: #483d8b;">:commands</span> (hy-mode org-babel-execute:hy)
  <span style="color: #483d8b;">:interpreter</span> <span style="color: #8b2252;">"hy"</span>
  <span style="color: #483d8b;">:hook</span>
  (hy-mode . company-mode)
  (hy-mode . (<span style="color: #a020f0;">lambda</span> () (lispy-mode 1)))
  <span style="color: #483d8b;">:config</span>
  (add-hook 'hy-mode-hook #'paredit-mode)
  (add-hook 'hy-mode-hook #'rainbow-delimiters-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org24306bf" class="outline-3">
<h3 id="org24306bf">FORTRAN stuff</h3>
<div class="outline-text-3" id="text-org24306bf">
<p>
FORTRAN is a major component of my job as a physicist, this package provides all I need. 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package f90-mode
  <span style="color: #483d8b;">:mode</span> (<span style="color: #8b2252;">"\\.f90\\'"</span>)
  <span style="color: #483d8b;">:hook</span>
  (f90-mode . (<span style="color: #a020f0;">lambda</span> () (<span style="color: #a020f0;">setq</span> flycheck-gfortran-args <span style="color: #8b2252;">"-ffree-form"</span>))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfc8a32a" class="outline-3">
<h3 id="orgfc8a32a">IRPF90</h3>
<div class="outline-text-3" id="text-orgfc8a32a">
<p>
<a href="http://irpf90.ups-tlse.fr/">IRPF90</a> is an environment that allows for efficient functional programming in FORTRAN
using the Implicit Reference to Parameters (IRP) method. I have developed a derived
mode for IRPF90:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;;; <span style="color: #b22222;">irp-mode.el --- A major mode for dealing with IRPF90 files</span>

;;; <span style="color: #b22222;">Commentary:</span>
;; <span style="color: #b22222;">An attempt to support Scemama's IRPF90 in Emacs</span>

;;; <span style="color: #b22222;">Code:</span>

;; <span style="color: #b22222;">Define IRPF90 extended FORTRAN syntax</span>

(<span style="color: #a020f0;">defvar</span> <span style="color: #a0522d;">irp-font-lock-keywords</span>)

(<span style="color: #a020f0;">setq</span> irp-font-lock-keywords
      (<span style="color: #a020f0;">let*</span> (
             ;; <span style="color: #b22222;">Define different keywords</span>
             (x-keywords '(<span style="color: #8b2252;">"BEGIN_PROVIDER"</span> <span style="color: #8b2252;">"END_PROVIDER"</span> <span style="color: #8b2252;">"ASSERT"</span>
                            <span style="color: #8b2252;">"FREE"</span> <span style="color: #8b2252;">"PROVIDE"</span> <span style="color: #8b2252;">"BEGIN_TEMPLATE"</span>
                            <span style="color: #8b2252;">"END_TEMPLATE"</span> <span style="color: #8b2252;">"BEGIN_SHELL"</span>
                            <span style="color: #8b2252;">"END_SHELL"</span> <span style="color: #8b2252;">"IRP_IF"</span> <span style="color: #8b2252;">"IRP_ELSE"</span> <span style="color: #8b2252;">"TOUCH"</span>
                            <span style="color: #8b2252;">"SOFT_TOUCH"</span>))
             (x-types '(<span style="color: #8b2252;">"double precision"</span> <span style="color: #8b2252;">"integer"</span>))
             (x-comments '(<span style="color: #8b2252;">"BEGIN_DOC"</span> <span style="color: #8b2252;">"END_DOC"</span>))

             ;; <span style="color: #b22222;">Generate regex</span>
             (x-keywords-regexp (regexp-opt x-keywords 'words))
             (x-types-regexp (regexp-opt x-types 'words))
             (x-comments-regexp (regexp-opt x-comments 'words)))

        `(
          (,x-types-regexp . font-lock-type-face)
          (,x-keywords-regexp . font-lock-preprocessor-face)
          (,x-comments-regexp . font-lock-comment-face)
          )))

;;;<span style="color: #b22222;">###</span><span style="color: #ff0000;">autoload</span>
(<span style="color: #a020f0;">define-derived-mode</span> <span style="color: #0000ff;">irp-mode</span> f90-mode <span style="color: #8b2252;">"irp mode"</span>
  <span style="color: #8b2252;">"Major mode for editing IRPF90 files."</span>
  <span style="color: #483d8b;">:syntax-table</span> nil
  <span style="color: #483d8b;">:abbrev-table</span> nil
  (font-lock-add-keywords nil irp-font-lock-keywords))

(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">irp-mode</span>)
;;; <span style="color: #b22222;">irp-mode.el ends here</span>
</pre>
</div>

<p>
This mode can be also configured with <code>use-package</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package irp-mode
  <span style="color: #483d8b;">:mode</span> (<span style="color: #8b2252;">"\\.irp.f\\'"</span>)
  <span style="color: #483d8b;">:load-path</span> <span style="color: #8b2252;">"~/.emacs.d/lib"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2f36ecb" class="outline-3">
<h3 id="org2f36ecb">C/C++ stuff</h3>
<div class="outline-text-3" id="text-org2f36ecb">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ccls
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:hook</span> ((c-mode c++-mode objc-mode cuda-mode) .
         (<span style="color: #a020f0;">lambda</span> () (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">ccls</span>) (lsp)))
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> c-basic-offset 6)
  (<span style="color: #a020f0;">setq</span> c-default-style '((java-mode . <span style="color: #8b2252;">"java"</span>)
                          (awk-mode . <span style="color: #8b2252;">"awk"</span>)
                          (other . <span style="color: #8b2252;">"linux"</span>))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8b6db2b" class="outline-3">
<h3 id="org8b6db2b">Python stuff</h3>
<div class="outline-text-3" id="text-org8b6db2b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package python
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> python-shell-interpreter <span style="color: #8b2252;">"jupyter"</span>
        python-shell-interpreter-args <span style="color: #8b2252;">"console --simple-prompt"</span>
        python-shell-prompt-detect-failure-warning nil)
  (add-to-list 'python-shell-completion-native-disabled-interpreters <span style="color: #8b2252;">"jupyter"</span>))

(use-package pyvenv
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:demand</span> t
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> pyvenv-workon <span style="color: #8b2252;">"emacs"</span>)
  (pyvenv-tracking-mode 1))

(use-package py-autopep8
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:config</span>
  (add-hook 'python-mode-hook 'py-autopep8-enable-on-save))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2f819f0" class="outline-3">
<h3 id="org2f819f0">Cuda stuff</h3>
<div class="outline-text-3" id="text-org2f819f0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package cuda-mode
    <span style="color: #483d8b;">:mode</span> <span style="color: #8b2252;">"\\.cu\\'"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6380954" class="outline-3">
<h3 id="org6380954">Julia stuff</h3>
<div class="outline-text-3" id="text-org6380954">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package julia-mode
  <span style="color: #483d8b;">:mode</span> <span style="color: #8b2252;">"\\.jl\\'"</span>)

(use-package flycheck-julia
  <span style="color: #483d8b;">:hook</span> (julia-mode . flycheck-julia-setup))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9bcf7a3" class="outline-3">
<h3 id="org9bcf7a3">Haskell stuff</h3>
<div class="outline-text-3" id="text-org9bcf7a3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package haskell-mode
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:custom</span>
  (haskell-process-load-or-reload-prompt t)
  (haskell-process-auto-import-loaded-modules t)
  (haskell-process-log t)
  (haskell-tags-on-save t))

(use-package flycheck-haskell
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq-default</span> flycheck-disabled-checkers '(haskell-stack-ghc))
  (add-hook 'haskell-mode-hook #'flycheck-haskell-setup))
</pre>
</div>
</div>
</div>

<div id="outline-container-org97e527d" class="outline-3">
<h3 id="org97e527d">Makefile stuff</h3>
<div class="outline-text-3" id="text-org97e527d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package make-mode
   <span style="color: #483d8b;">:ensure</span> nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgffee5df" class="outline-3">
<h3 id="orgffee5df">Perl stuff</h3>
<div class="outline-text-3" id="text-orgffee5df">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package cperl-mode
  <span style="color: #483d8b;">:mode</span> (<span style="color: #8b2252;">"\\.</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">(</span><span style="color: #8b2252;">[pP][Llm]</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">al</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">)</span><span style="color: #8b2252;">\\'"</span> . cperl-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2928531" class="outline-3">
<h3 id="org2928531">Raku stuff</h3>
<div class="outline-text-3" id="text-org2928531">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package raku-mode
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:defer</span> t
  <span style="color: #483d8b;">:mode</span> <span style="color: #8b2252;">"\\.raku\\'"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orge031117" class="outline-3">
<h3 id="orge031117">Latex</h3>
<div class="outline-text-3" id="text-orge031117">
<p>
Auctex provides all you will ever need to work with Latex, and more. 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package auctex
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:mode</span> (<span style="color: #8b2252;">"\\.tex\\'"</span> . latex-mode)
  <span style="color: #483d8b;">:commands</span> (latex-mode LaTeX-mode plain-tex-mode)
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">progn</span>
    (add-hook 'LaTeX-mode-hook #'LaTeX-preview-setup)
    (add-hook 'LaTeX-mode-hook 'LaTeX-math-mode)
    (add-hook 'LaTeX-mode-hook #'flyspell-mode)
    (add-hook 'LaTeX-mode-hook #'turn-on-reftex)
    (<span style="color: #a020f0;">setq</span> TeX-auto-save t
          TeX-parse-self t
          TeX-save-query nil
          TeX-PDF-mode t)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org721b89c" class="outline-3">
<h3 id="org721b89c">Org-mode stuff</h3>
<div class="outline-text-3" id="text-org721b89c">
<p>
<a id="orgbac126f"></a>
</p>

<p>
Org-mode is the package allowing me to have this literate configuration. Org-superstar
makes org-mode files look gorgeous.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package org-tempo
  <span style="color: #483d8b;">:after</span> org
  <span style="color: #483d8b;">:hook</span>
  (org-mode . (<span style="color: #a020f0;">lambda</span> () (add-hook 'after-save-hook #'org-babel-tangle <span style="color: #483d8b;">:append</span> <span style="color: #483d8b;">:local</span>)))
  <span style="color: #483d8b;">:config</span>
  (add-to-list 'org-modules 'org-tempo)
  (org-babel-do-load-languages
   'org-babel-load-languages '((fortran . t)
                               (python . t)
                               (C . t)
                               (gnuplot . t)
                               (awk . t)
                               (latex . t)
                               (shell . t)))
  (<span style="color: #a020f0;">setq</span> org-preview-latex-default-process 'imagemagick)
  (<span style="color: #a020f0;">setq</span> org-startup-indented t)
  (<span style="color: #a020f0;">setq</span> org-startup-with-inline-images t))

(use-package org-superstar
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:config</span>
  (add-hook 'org-mode-hook (<span style="color: #a020f0;">lambda</span> () (org-superstar-mode 1))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfdfbd15" class="outline-3">
<h3 id="orgfdfbd15">Web stuff</h3>
<div class="outline-text-3" id="text-orgfdfbd15">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package php-mode
  <span style="color: #483d8b;">:mode</span> (<span style="color: #8b2252;">"\\.php\\'"</span>))

(use-package web-mode
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:defer</span> t
  <span style="color: #483d8b;">:mode</span> (<span style="color: #8b2252;">"\\.html\\'"</span> <span style="color: #8b2252;">"\\.htm\\'"</span> <span style="color: #8b2252;">"\\.css\\'"</span>)
  <span style="color: #483d8b;">:bind</span> ((<span style="color: #8b2252;">"C-c C-v"</span> . browse-url-of-buffer))
  <span style="color: #483d8b;">:hook</span>
  ((web-mode . company-mode)
   (web-mode . emmet-mode)
   (web-mode . (<span style="color: #a020f0;">lambda</span> () (flyspell-mode 1)))
   (web-mode . webmd-hooks-mine)))

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">web-mode-flyspefll-verify</span> ()
  <span style="color: #8b2252;">"Make flyspell behave correctly in web mode."</span>
  (<span style="color: #a020f0;">let</span> ((f (get-text-property (- (point) 1) 'face)))
    (not (memq f '(web-mode-html-attr-value-face
                   web-mode-html-tag-face
                   web-mode-html-attr-name-face
                   web-mode-doctype-face
                   web-mode-keyword-face
                   web-mode-function-name-face
                   web-mode-variable-name-face
                   web-mode-css-property-name-face
                   web-mode-css-selector-face
                   web-mode-css-color-face
                   web-mode-type-face)
               ))))
(put 'web-mode 'flyspell-mode-predicate 'web-mode-flyspefll-verify)

(use-package emmet-mode
  <span style="color: #483d8b;">:ensure</span> t)

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">webmd-hooks-mine</span> ()
  <span style="color: #8b2252;">"Some hooks for web mode."</span>
  (<span style="color: #a020f0;">setq</span> web-mode-markup-indent-offset 2)
  (<span style="color: #a020f0;">setq</span> web-mode-css-indent-offset 2)
  (<span style="color: #a020f0;">setq</span> web-mode-code-indent-offset 2)
  (<span style="color: #a020f0;">setq</span> web-mode-enable-current-column-highlight t)
  (<span style="color: #a020f0;">setq</span> web-mode-enable-current-element-highlight t)
  (set-face-attribute 'web-mode-html-tag-bracket-face nil <span style="color: #483d8b;">:foreground</span> <span style="color: #8b2252;">"red"</span>))

(use-package js-mode <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:mode</span> (<span style="color: #8b2252;">"\\.js\\'"</span>))

(use-package simple-httpd
  <span style="color: #483d8b;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb179975" class="outline-3">
<h3 id="orgb179975">YAML stuff</h3>
<div class="outline-text-3" id="text-orgb179975">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package yaml-mode
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:mode</span> <span style="color: #8b2252;">"</span><span style="color: #ff0000;">\</span><span style="color: #8b2252;">.ya?ml</span><span style="color: #ff0000;">\</span><span style="color: #8b2252;">'"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb873533" class="outline-3">
<h3 id="orgb873533">Markdown stuff</h3>
<div class="outline-text-3" id="text-orgb873533">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package markdown-mode
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">setq-default</span> markdown-hide-markup t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga36b7e6" class="outline-3">
<h3 id="orga36b7e6">reStructuredText stuff</h3>
<div class="outline-text-3" id="text-orga36b7e6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package rst
  <span style="color: #483d8b;">:mode</span> (<span style="color: #8b2252;">"\\.rst\\'"</span> . rst-mode)
  <span style="color: #483d8b;">:bind</span> (<span style="color: #483d8b;">:map</span> rst-mode-map
              (<span style="color: #8b2252;">"M-a"</span> . rst-backward-section)
              (<span style="color: #8b2252;">"M-e"</span> . rst-forward-section))
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">setq</span> rst-indent-width 2))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbbd4139" class="outline-3">
<h3 id="orgbbd4139">Lua stuff</h3>
<div class="outline-text-3" id="text-orgbbd4139">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package lua-mode
  <span style="color: #483d8b;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org54a1914" class="outline-3">
<h3 id="org54a1914">JSON stuff</h3>
<div class="outline-text-3" id="text-org54a1914">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package json-mode
  <span style="color: #483d8b;">:mode</span> <span style="color: #8b2252;">"\\.json\\'"</span>)

(use-package flymake-json
  <span style="color: #483d8b;">:hook</span> (json-mode . flymake-json-load))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgefe3792" class="outline-3">
<h3 id="orgefe3792">Cmake stuff</h3>
<div class="outline-text-3" id="text-orgefe3792">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package cmake-mode
  <span style="color: #483d8b;">:mode</span> (<span style="color: #8b2252;">"CMakeLists\\.txt\\'"</span> <span style="color: #8b2252;">"\\.cmake</span><span style="color: #ff0000;">\</span><span style="color: #8b2252;">(.in</span><span style="color: #ff0000;">\</span><span style="color: #8b2252;">)?\\'"</span>)
  <span style="color: #483d8b;">:config</span>
  (add-to-list 'company-backends 'company-cmake))

(use-package eldoc-cmake
  <span style="color: #483d8b;">:after</span> company
  <span style="color: #483d8b;">:hook</span> (cmake-mode . eldoc-cmake-enable))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb0e3f4a" class="outline-3">
<h3 id="orgb0e3f4a">Git stuff</h3>
<div class="outline-text-3" id="text-orgb0e3f4a">
<p>
This porcelain is more glorious than the one from Meissen
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package magit
  <span style="color: #483d8b;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5016946" class="outline-3">
<h3 id="org5016946">The heretic Vim stuff</h3>
<div class="outline-text-3" id="text-org5016946">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package vimrc-mode
  <span style="color: #483d8b;">:ensure</span> t)
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="validation"></p>
</div>
</body>
</html>
