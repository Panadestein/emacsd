<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs literate configuration</title>
<meta name="generator" content="Org mode" />
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<meta name="google-site-verification" content="UnH0G3uduefQ6n9JV-YfihFU5SrKCWPHlvu6Ancvghs" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XJW2VM2D12"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-XJW2VM2D12');
</script>
</head>
<body>
<div id="content">
<h1 class="title">Emacs literate configuration</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgf6b5fe2">A foreword on this config and Lisp</a>
<ul>
<li><a href="#org22f0bd9">Org-mode literate programming</a></li>
<li><a href="#org97a3a76">Automatic configuration with Nix</a></li>
</ul>
</li>
<li><a href="#orge5dc132">General configuration</a>
<ul>
<li><a href="#org49c0ba0">Add the GNU ELPA and MELPA archives, and then ensure use-package</a></li>
<li><a href="#org94880cd">One editor to rule them all, one editor to find them</a></li>
<li><a href="#org154506d">Prevent custom from messing with my config file</a></li>
<li><a href="#org2687e76">Only highlight programming and text buffers</a></li>
<li><a href="#orgd8120d6">Old habits die hard</a></li>
<li><a href="#org164fab2">Linear undo system</a></li>
<li><a href="#org6008a85">Themes</a></li>
<li><a href="#org5327abe">Handle very long lines</a></li>
<li><a href="#orge88e724">Improved parentheses</a></li>
<li><a href="#org26d49e6">Highlight parentheses with different color</a></li>
<li><a href="#org93245c8">Minimap</a></li>
<li><a href="#org9919c71">Fancy mode line</a></li>
<li><a href="#org47e0250">Multiple cursors support</a></li>
<li><a href="#orgce57485">Tabs-bar-mode</a></li>
<li><a href="#org37d06e2">Fancy HTML exports</a></li>
</ul>
</li>
<li><a href="#org23ad507">IDE features and help</a>
<ul>
<li><a href="#org2e3432b">Complete everything (but code) in Emacs with ivy</a></li>
<li><a href="#org8bc345e">Command's information with which-key</a></li>
<li><a href="#orgda6be54">Improved help system with Helpful</a></li>
<li><a href="#orgb48f4cd">Code tags</a></li>
<li><a href="#org983e6d5">Completion with company</a></li>
<li><a href="#orgb1c1a91">Language serve protocol</a></li>
<li><a href="#org4465dea">Spell checking with FlySpell</a></li>
<li><a href="#org41dfb87">Grammar checking with LanguageTool</a></li>
<li><a href="#orge4e2939">Syntax checking with Flycheck</a></li>
<li><a href="#orgcf621e5">Snippets</a></li>
</ul>
</li>
<li><a href="#org853d56c">File browsing and terminals</a>
<ul>
<li><a href="#org31f5aac">Terminal support with Vterm</a></li>
<li><a href="#orgd7e6883">Terminal support with Eshell</a></li>
<li><a href="#org596d7c7">File browsers</a></li>
<li><a href="#org796fa9c">PDF support</a></li>
<li><a href="#org1c426e7">TRAMP</a></li>
</ul>
</li>
<li><a href="#orgf042de1">Programming</a>
<ul>
<li><a href="#org0f43533">Lisp stuff</a></li>
<li><a href="#org592cb90">FORTRAN stuff</a></li>
<li><a href="#org028bc64">IRPF90</a></li>
<li><a href="#orgff0887a">C/C++ stuff</a></li>
<li><a href="#orgdcd7d00">Python stuff</a></li>
<li><a href="#org21d5d77">Cuda stuff</a></li>
<li><a href="#orgf1aee4b">Julia stuff</a></li>
<li><a href="#org6cdbe76">Haskell stuff</a></li>
<li><a href="#org1d6101c">Makefile stuff</a></li>
<li><a href="#orgbe49e01">Perl stuff</a></li>
<li><a href="#orgc176d41">Raku stuff</a></li>
<li><a href="#org5516ab3">Latex</a></li>
<li><a href="#orge7afada">Org-mode stuff</a></li>
<li><a href="#org3331321">Web stuff</a></li>
<li><a href="#org21c4e09">YAML stuff</a></li>
<li><a href="#org8141a62">Markdown stuff</a></li>
<li><a href="#org0b50ab8">reStructuredText stuff</a></li>
<li><a href="#org94a9e09">Lua stuff</a></li>
<li><a href="#org80e8c55">JSON stuff</a></li>
<li><a href="#org538599a">Cmake stuff</a></li>
<li><a href="#orgd5fb7d2">Git stuff</a></li>
<li><a href="#org97706e9">The heretic Vim stuff</a></li>
<li><a href="#org3f89f6e">Nix stuff</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgf6b5fe2" class="outline-2">
<h2 id="orgf6b5fe2">A foreword on this config and Lisp</h2>
<div class="outline-text-2" id="text-orgf6b5fe2">
<p>
Welcome to my literate <a href="https://github.com/Panadestein/emacsd">Emacs configuration</a>. As many specimens of the pedigree,
this config ratifies that Newtonian aphorism involving giants. Many thanks to all the unsung
heroes whose Emacs Lisp snippets assemble the DNA of this file. Apropos of Lisp, I have
recently had a glimpse of the enlightenment promised by so many hacker's lore. Here is one
of my favorites, written by RMS: 
</p>

<p class="verse">
In days long ago,<br />
When clocks were so slow,<br />
These basic keystrokes<br />
Took too long for folks,<br />
Unless they were writ<br />
In C code to flit.<br />
Today that's not so,<br />
In Lisp they can go.<br />
</p>
</div>

<div id="outline-container-org22f0bd9" class="outline-3">
<h3 id="org22f0bd9">Org-mode literate programming</h3>
<div class="outline-text-3" id="text-org22f0bd9">
<p>
The beauty of literate configuration with org-mode is that it allows for maintaining an Emacs
config, a website, and an org-mode markup file at the same time. For example, in the header
of this file you can find the following code:
</p>

<div class="org-src-container">
<pre class="src src-org-mode">#+TITLE: Emacs literate configuration
#+PROPERTY: header-args :tangle ../init.el
#+OPTIONS: toc:2 num:nil
#+SETUPFILE: https://fniessen.github.io/org-html-themes/org/theme-readtheorg.setup
</pre>
</div>

<p>
With these options, I tangle (every time I save, see the org-mode <a href="#org661e10b">hook</a>) the source code blocks
in this config to my Emacs <code>init.el</code>, and I set up the ReadTheOrg theme that the website uses.
A somehow tricky aspect is to get syntax highlighting when exporting to HTML
with <code>org-mode</code> using Emacs in batch mode. The following code block ensures this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">unless</span> noninteractive
  (org-html-htmlize-generate-css)
  (<span class="org-keyword">with-current-buffer</span> <span class="org-string">"*html*"</span>
    (write-file css-file))
  (format <span class="org-string">"#+html_head_extra: &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"%s\"/&gt;"</span>
      css-file))
</pre>
</div>
</div>
</div>

<div id="outline-container-org97a3a76" class="outline-3">
<h3 id="org97a3a76">Automatic configuration with Nix</h3>
<div class="outline-text-3" id="text-org97a3a76">
<p>
Although it is possible to configure Emacs with Nix, I prefer to use the Elisp configuration. However, I do use
the following overlay, together with Cachix to have the latest commits of the Emacs' master branch:
</p>

<div class="org-src-container">
<pre class="src src-nix"><span class="org-nix-attribute">nixpkgs.overlays</span> = [
  <span class="org-comment"># Emacs overlay</span>
  (<span class="org-nix-builtin">import</span> (builtins.fetchTarball {
    <span class="org-nix-attribute">url</span> = <span class="org-nix-constant">https://github.com/nix-community/emacs-overlay/archive/master.tar.gz</span>;
  }))
];

<span class="org-nix-attribute">environment.systemPackages</span> = <span class="org-nix-keyword">with</span> pkgs; [
  emacsGitNativeComp
];
</pre>
</div>

<p>
My <a href="https://github.com/Panadestein/nixos-config">NixOS configuration</a> is version controlled with git, and can automatically
deploy my Emacs distribution with <code>home-manager</code>: 
</p>

<div class="org-src-container">
<pre class="src src-nix"><span class="org-comment-delimiter"># </span><span class="org-comment">Emacs configuration</span>
home.file.<span class="org-string">".emacs.d/"</span> = {
  <span class="org-nix-attribute">source</span> = pkgs.fetchFromGitHub {
    <span class="org-nix-attribute">owner</span> = <span class="org-string">"Panadestein"</span>;
    <span class="org-nix-attribute">repo</span> = <span class="org-string">"emacsd"</span>;
    <span class="org-nix-attribute">rev</span> = <span class="org-string">"abd98c10e5dc66756a678096c7d7564e1435ea01"</span>;
    <span class="org-nix-attribute">sha256</span> = <span class="org-string">"0ppkvz6dkmgc774q0g7i6jjja1683gja3068kif3mrwn242gfaj5"</span>;
  };
  <span class="org-nix-attribute">recursive</span> = <span class="org-nix-builtin">true</span>;
  <span class="org-nix-attribute">onChange</span> = builtins.readFile <span class="org-nix-constant">/etc/nixos/dotfiles/set_emacs.sh</span>;
};
</pre>
</div>

<div class="org-src-container">
<pre class="src src-shell"><span class="org-comment-delimiter">#</span><span class="org-comment">!/usr/bin/</span><span class="org-keyword">env</span><span class="org-comment"> bash</span>

<span class="org-builtin">cd</span> <span class="org-string">"$HOME"</span>/.emacs.d
mkdir -p ./lib ./snippets/irp-mode ./undo
emacs --batch --eval <span class="org-string">"(require 'org)"</span> --eval <span class="org-string">'(org-babel-tangle-file "./content/index.org")'</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge5dc132" class="outline-2">
<h2 id="orge5dc132">General configuration</h2>
<div class="outline-text-2" id="text-orge5dc132">
</div>
<div id="outline-container-org49c0ba0" class="outline-3">
<h3 id="org49c0ba0">Add the GNU ELPA and MELPA archives, and then ensure use-package</h3>
<div class="outline-text-3" id="text-org49c0ba0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> package-archives '((<span class="org-string">"gnu"</span> . <span class="org-string">"https://elpa.gnu.org/packages/"</span>)
                         (<span class="org-string">"melpa"</span> . <span class="org-string">"https://melpa.org/packages/"</span>))
      package-quickstart nil)

(<span class="org-keyword">eval-and-compile</span>
  (<span class="org-keyword">unless</span> (<span class="org-keyword">and</span> (fboundp 'package-installed-p)
         (package-installed-p 'use-package))
    (package-refresh-contents)
    (package-install 'use-package))
  (<span class="org-keyword">if</span> init-file-debug  
    (<span class="org-keyword">setq</span> use-package-compute-statistics t)
    (<span class="org-keyword">setq</span> use-package-compute-statistics nil))
  (<span class="org-keyword">setq</span> use-package-always-ensure t)
  (<span class="org-keyword">setq</span> use-package-expand-minimally t)
  (<span class="org-keyword">require</span> '<span class="org-constant">use-package</span>))
</pre>
</div>
</div>
</div>


<div id="outline-container-org94880cd" class="outline-3">
<h3 id="org94880cd">One editor to rule them all, one editor to find them</h3>
<div class="outline-text-3" id="text-org94880cd">
<p>
Here I use the <code>use-package</code> macro to keep all Emacs internal settings organized in one single block.
The variables have self-explanatory names, but I have added a few comments for the sake of clarity. 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package emacs
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:config</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Emacs internal options</span>
  (<span class="org-keyword">setq-default</span> initial-scratch-message <span class="org-string">";; Welcome Panadestein!!"</span>
                ring-bell-function #'ignore
                user-full-name <span class="org-string">"Ram&#243;n L. Panad&#233;s-Barrueta, PhD"</span>
                inhibit-startup-screen t
                custom-safe-themes t)
  (<span class="org-keyword">setq</span> backup-directory-alist
        `((<span class="org-string">"."</span> . ,(concat user-emacs-directory <span class="org-string">"backups"</span>))))
  (<span class="org-keyword">if</span> init-file-debug
    (<span class="org-keyword">setq</span> warning-minimum-level <span class="org-builtin">:debug</span>)
    (<span class="org-keyword">setq</span> warning-minimum-level <span class="org-builtin">:emergency</span>))
  (menu-bar-mode -1)
  (tool-bar-mode -1)
  (show-paren-mode 1)
  (fringe-mode '(0 . 0))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Make ESC close prompts</span>
  (global-set-key (kbd <span class="org-string">"&lt;escape&gt;"</span>) 'keyboard-escape-quit)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">No scroll bar, always full screen</span>
  (add-to-list 'default-frame-alist
               '(vertical-scroll-bars . nil))
  (add-to-list 'default-frame-alist '(fullscreen . maximized))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Font</span>
  (add-to-list 'default-frame-alist '(font . <span class="org-string">"Fira Code-18"</span>))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Terminal transparency</span>
  (face-spec-set 'default
                 '((((type tty)) <span class="org-builtin">:background</span> <span class="org-string">"unspecified-bg"</span>)))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Line numbers</span>
  (<span class="org-keyword">when</span> (version&lt;= <span class="org-string">"26.0.50"</span> emacs-version)
    (global-display-line-numbers-mode)
    (<span class="org-keyword">setq</span> display-line-numbers 'relative))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Remember line number</span>
  (<span class="org-keyword">if</span> (fboundp #'save-place-mode)
      (save-place-mode +1)
    (<span class="org-keyword">setq-default</span> save-place t)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org154506d" class="outline-3">
<h3 id="org154506d">Prevent custom from messing with my config file</h3>
<div class="outline-text-3" id="text-org154506d">
<p>
This helps to clear the clutter and increases reproducibility of the config
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">let</span>
    ((customization-file (expand-file-name <span class="org-string">"custom.el"</span> user-emacs-directory)))
  (<span class="org-keyword">when</span> (file-exists-p customization-file)
    (<span class="org-keyword">setq</span> custom-file customization-file)
    (load custom-file 'noerror)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2687e76" class="outline-3">
<h3 id="org2687e76">Only highlight programming and text buffers</h3>
<div class="outline-text-3" id="text-org2687e76">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package hl-line
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:config</span>
  (global-hl-line-mode +1)
  <span class="org-builtin">:hook</span>
  (prog-mode . hl-line-mode)
  (text-mode . hl-line-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd8120d6" class="outline-3">
<h3 id="orgd8120d6">Old habits die hard</h3>
<div class="outline-text-3" id="text-orgd8120d6">
<p>
I cannot just trash years of Vim muscle memory workout. Although the Emacs keybindings
slowly start to <i>klappt</i>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package evil
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:demand</span> t
  <span class="org-builtin">:config</span>
  (evil-mode 1)
  (evil-set-undo-system 'undo-tree)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">This is the cleanest solution for vterm</span>
  (evil-set-initial-state 'eshell-mode 'emacs)
  (evil-set-initial-state 'vterm-mode 'emacs))
</pre>
</div>
</div>
</div>

<div id="outline-container-org164fab2" class="outline-3">
<h3 id="org164fab2">Linear undo system</h3>
<div class="outline-text-3" id="text-org164fab2">
<p>
This is one of the not so awesome quirks of Emacs IMHO. Maybe one day I will understand
its power. I keep it linear for the moment.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package undo-tree
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:init</span>
  (global-undo-tree-mode)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> undo-tree-history-directory-alist '((<span class="org-string">"."</span> . <span class="org-string">"~/.emacs.d/undo"</span>))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org6008a85" class="outline-3">
<h3 id="org6008a85">Themes</h3>
<div class="outline-text-3" id="text-org6008a85">
<p>
As Nietzsche said, the voice of beauty speaks softly; it creeps only into the most fully awakened souls.
Ergo the importance of a visually pleasant editor. These are my top three themes:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package doom-themes
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Global settings (defaults)</span>
  (<span class="org-keyword">setq</span> doom-themes-enable-bold t
        doom-themes-enable-italic t)
  (load-theme 'doom-vibrant t)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Enable flashing mode-line on errors</span>
  (doom-themes-visual-bell-config)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Enable custom neotree theme (all-the-icons must be installed!)</span>
  (doom-themes-neotree-config)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">or for treemacs users</span>
  (<span class="org-keyword">setq</span> doom-themes-treemacs-theme <span class="org-string">"doom-atom"</span>)
  (<span class="org-keyword">setq</span> doom-themes-treemacs-enable-variable-pitch nil)
  (doom-themes-treemacs-config)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Corrects (and improves) org-mode's native fontification.</span>
  (doom-themes-org-config))

(use-package gruvbox-theme
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:disabled</span>
  <span class="org-builtin">:init</span> (load-theme 'gruvbox-dark-soft t))

(use-package blackboard-theme
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:disabled</span>
  <span class="org-builtin">:init</span> (load-theme 'blackboard t))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Highlight numbers</span>

(use-package highlight-numbers
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:hook</span>
  (prog-mode . highlight-numbers-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5327abe" class="outline-3">
<h3 id="org5327abe">Handle very long lines</h3>
<div class="outline-text-3" id="text-org5327abe">
<p>
Another well-known issue of Emacs, although it rarely affects me.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package so-long
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:hook</span>
  (after-init-hook . global-so-long-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge88e724" class="outline-3">
<h3 id="orge88e724">Improved parentheses</h3>
<div class="outline-text-3" id="text-orge88e724">
<p>
This helps a lot when lisping.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package smartparens
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:hook</span> (prog-mode . smartparens-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org26d49e6" class="outline-3">
<h3 id="org26d49e6">Highlight parentheses with different color</h3>
<div class="outline-text-3" id="text-org26d49e6">
<p>
Another eye candy. Parenthesis of different colors are very helpful in Lisp though.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package rainbow-delimiters
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:hook</span> (prog-mode . rainbow-delimiters-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org93245c8" class="outline-3">
<h3 id="org93245c8">Minimap</h3>
<div class="outline-text-3" id="text-org93245c8">
<p>
This package implements Sublime Text's minimap in Emacs. Although I am quasi-satisfied with
this config, I am not ready to use it on a regular basis.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package minimap
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> minimap-window-location 'right)
  (<span class="org-keyword">setq</span> minimap-minimum-width 10)
  (<span class="org-keyword">setq</span> minimap-dedicated-window t)
  (<span class="org-keyword">setq</span> minimap-hide-cursor t)
  (<span class="org-keyword">setq</span> minimap-hide-scroll-bar t)
  (<span class="org-keyword">setq</span> minimap-hide-fringes t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9919c71" class="outline-3">
<h3 id="org9919c71">Fancy mode line</h3>
<div class="outline-text-3" id="text-org9919c71">
<p>
Another gift from the Doom Emacs community. Best modeline I have seen for Emacs.
The additional package <code>all-the-icons</code> provides awesome icons not only for the
modeline, but also for file managers and many other packages.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package all-the-icons
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Needs a manual `M-x all-the-icons-install-fonts`</span>
  <span class="org-builtin">:ensure</span> t)

(use-package doom-modeline
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:init</span> (doom-modeline-mode 1)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> doom-modeline-height 40)
  (<span class="org-keyword">setq</span> doom-modeline-buffer-file-name-style 'relative-to-project)
  (<span class="org-keyword">setq</span> doom-line-numbers-style 'relative)
  (<span class="org-keyword">setq</span> doom-modeline-major-mode-icon t)
  (<span class="org-keyword">setq</span> doom-modeline-buffer-state-icon t)
  (<span class="org-keyword">setq</span> doom-modeline-major-mode-color-icon t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org47e0250" class="outline-3">
<h3 id="org47e0250">Multiple cursors support</h3>
<div class="outline-text-3" id="text-org47e0250">
<p>
This package is very interesting, although not so ergonomic IMHO. Here are some of the
most relevant commands:
</p>

<ul class="org-ul">
<li><code>C-n</code> make and go to next match</li>
<li><code>C-p</code> make and go to previous match</li>
<li><code>g r q</code> stop all cursors</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package evil-mc
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (global-evil-mc-mode 1))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgce57485" class="outline-3">
<h3 id="orgce57485">Tabs-bar-mode</h3>
<div class="outline-text-3" id="text-orgce57485">
<p>
I could not manage to use this package without side effects in Evil-mode. Here is a simple
usage:
</p>

<ul class="org-ul">
<li><code>C-x t f "filename"</code> opens file in new tab</li>
<li><code>C-x t 0</code> closes current tab</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package tabbar
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-&lt;right&gt;"</span> . tabbar-forward)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org37d06e2" class="outline-3">
<h3 id="org37d06e2">Fancy HTML exports</h3>
<div class="outline-text-3" id="text-org37d06e2">
<p>
This package ensures that some <code>org-mode</code> babel exports have proper syntax highlighting.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package htmlize
  <span class="org-builtin">:ensure</span> t)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org23ad507" class="outline-2">
<h2 id="org23ad507">IDE features and help</h2>
<div class="outline-text-2" id="text-org23ad507">
</div>
<div id="outline-container-org2e3432b" class="outline-3">
<h3 id="org2e3432b">Complete everything (but code) in Emacs with ivy</h3>
<div class="outline-text-3" id="text-org2e3432b">
<p>
The usage of ivy and their autocompletion army (swiper, counsel) has greatly increased my
productivity. It is also very well integrated with the Doom Emacs theme I use. The swiper
search feature (<code>C-s</code>) is far more powerful than the default Emacs counterpart. 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ivy
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:diminish</span>
  <span class="org-builtin">:bind</span>
  ((<span class="org-string">"C-s"</span> . swiper))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> ivy-use-virtual-buffers t)
  (ivy-mode 1))

(use-package swiper
  <span class="org-builtin">:ensure</span> t)

(use-package counsel
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:after</span> ivy
  <span class="org-builtin">:hook</span>
  (after-init . counsel-mode)
  <span class="org-builtin">:config</span> (counsel-mode)
  <span class="org-builtin">:bind</span>
  (<span class="org-string">"M-x"</span> . counsel-M-x)
  (<span class="org-string">"C-x b"</span> . counsel-ibuffer)
  (<span class="org-string">"C-M-l"</span> . counsel-imenu)
  (<span class="org-string">"C-x C-f"</span> . counsel-find-file)
  (<span class="org-string">"&lt;f1&gt; v"</span> . counsel-describe-variable)
  (<span class="org-string">"&lt;f1&gt; f"</span> . counsel-descbinds-function))

(use-package ivy-prescient
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:after</span> counsel
  <span class="org-builtin">:config</span>
  (ivy-prescient-mode 1))

(use-package ivy-rich
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:init</span>
  (ivy-rich-mode 1)
  <span class="org-builtin">:after</span> counsel
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> ivy-format-function #'ivy-format-function-line)
  (<span class="org-keyword">setq</span> ivy-rich-display-transformers-list
        (plist-put ivy-rich-display-transformers-list
                   'ivy-switch-buffer
                   '(<span class="org-builtin">:columns</span>
                     ((ivy-rich-candidate (<span class="org-builtin">:width</span> 40))
                      (ivy-rich-switch-buffer-indicators
                       (<span class="org-builtin">:width</span> 4 <span class="org-builtin">:face</span> error <span class="org-builtin">:align</span> right))
                      (ivy-rich-switch-buffer-major-mode
                       (<span class="org-builtin">:width</span> 12 <span class="org-builtin">:face</span> warning))
                      (ivy-rich-switch-buffer-project
                       (<span class="org-builtin">:width</span> 15 <span class="org-builtin">:face</span> success))
                      (ivy-rich-switch-buffer-path
                       (<span class="org-builtin">:width</span> (<span class="org-keyword">lambda</span> (x) (ivy-rich-switch-buffer-shorten-path
                                            x (ivy-rich-minibuffer-width 0.3))))))))))

(use-package all-the-icons-ivy
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:demand</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8bc345e" class="outline-3">
<h3 id="org8bc345e">Command's information with which-key</h3>
<div class="outline-text-3" id="text-org8bc345e">
<p>
Which-key is a must-have to sail the raging seas of Emacs' packages keybindings. These suggestions
come very handy when exploring a new package.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package which-key
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:diminish</span>
  <span class="org-builtin">:custom</span>
  (which-key-idle-secondary-delay 0.01)
  (which-key-dont-use-unicode t)
  <span class="org-builtin">:config</span>
  (which-key-mode t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgda6be54" class="outline-3">
<h3 id="orgda6be54">Improved help system with Helpful</h3>
<div class="outline-text-3" id="text-orgda6be54">
<p>
Emacs default help system is very good. Helpful makes it awesome by adding colors and source code
exploration.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package helpful
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:custom</span>
  (counsel-describe-variable-function #'helpful-variable)
  <span class="org-builtin">:bind</span>
  (<span class="org-string">"C-h f"</span> . helpful-function)
  ([remap describe-symbol] . helpful-symbol)
  ([remap describe-variable] . helpful-variable)
  ([remap describe-command] . helpful-command)
  ([remap describe-key] . helpful-key))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb48f4cd" class="outline-3">
<h3 id="orgb48f4cd">Code tags</h3>
<div class="outline-text-3" id="text-orgb48f4cd">
<p>
Using code tags when developing in large scale codes (like electronic structure packages)
can save your fingers from <code>grep</code> induced damage. I use the minimalistic <code>gtags-mode</code> that
relies as much as possible on already existing Emacs tools. I also have configured the <code>counsel-etags</code>
package, though its approach of parsing the TAGS file makes it very slow when used with TRAMP.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package gtags-mode
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:hook</span> ((emacs-startup . gtags-mode)))

(use-package counsel-etags
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:disabled</span>
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-]"</span> . counsel-etags-find-tag-at-point))
  <span class="org-builtin">:init</span>
  (add-hook 'prog-mode-hook
            (<span class="org-keyword">lambda</span> ()
              (add-hook 'after-save-hook
                        'counsel-etags-virtual-update-tags 'append 'local)))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> counsel-etags-update-interval 60)
  (<span class="org-keyword">push</span> <span class="org-string">"build"</span> counsel-etags-ignore-directories))
</pre>
</div>
</div>
</div>

<div id="outline-container-org983e6d5" class="outline-3">
<h3 id="org983e6d5">Completion with company</h3>
<div class="outline-text-3" id="text-org983e6d5">
<p>
Source code completions. An all-time classic.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package company
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:init</span>
  (add-hook 'after-init-hook 'global-company-mode)
  (<span class="org-keyword">setq</span> company-minimum-prefix-length 3
        company-selection-wrap-around t
        company-tooltip-limit 20
        company-tooltip-minimum-width 15
        company-tooltip-align-annotations t))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb1c1a91" class="outline-3">
<h3 id="orgb1c1a91">Language serve protocol</h3>
<div class="outline-text-3" id="text-orgb1c1a91">
<p>
Microsoft's Language Server Protocol (LSP)
is a great tool to provide IDE features to Emacs. I use two major-modes for managing the lsp servers,
namely <code>lsp-mode</code> and <code>eglot</code>. The latter maximizes the use of already existing Emacs infrastructure,
and works better with TRAMP.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package lsp-mode
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> lsp-idle-delay 0.5
        lsp-enable-symbol-highlighting t
        lsp-enable-snippet nil
        lsp-pyls-plugins-flake8-enabled t)
  (lsp-register-custom-settings
   '((<span class="org-string">"pyls.plugins.pyls_mypy.enabled"</span> nil nil)
     (<span class="org-string">"pyls.plugins.pyls_mypy.live_mode"</span> nil t)
     (<span class="org-string">"pyls.plugins.pyls_black.enabled"</span> t t)
     (<span class="org-string">"pyls.plugins.pyls_isort.enabled"</span> t t)
     <span class="org-comment-delimiter">;; </span><span class="org-comment">Disable duplicated by flake8</span>
     (<span class="org-string">"pyls.plugins.pycodestyle.enabled"</span> nil t)
     (<span class="org-string">"pyls.plugins.mccabe.enabled"</span> nil t)
     (<span class="org-string">"pyls.plugins.pyflakes.enabled"</span> nil t)))
  (lsp-register-client
     (make-lsp-client <span class="org-builtin">:new-connection</span> (lsp-tramp-connection <span class="org-string">"&lt;fortls&gt;"</span>)
                      <span class="org-builtin">:major-modes</span> '(f90-mode)
                      <span class="org-builtin">:remote?</span> t
                      <span class="org-builtin">:server-id</span> 'fortls-remote))
  (lsp-register-client
     (make-lsp-client <span class="org-builtin">:new-connection</span> (lsp-tramp-connection <span class="org-string">"&lt;pyls&gt;"</span>)
                      <span class="org-builtin">:major-modes</span> '(python-mode)
                      <span class="org-builtin">:remote?</span> t
                      <span class="org-builtin">:server-id</span> 'pyls-remote))
  <span class="org-builtin">:hook</span>
  ((python-mode . lsp)
   (f90-mode . lsp)
   (lsp-mode . lsp-enable-which-key-integration)))

(use-package lsp-ui
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:hook</span> (lsp-mode . lsp-ui-mode)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> lsp-ui-sideline-show-hover t
        lsp-ui-sideline-delay 0.5
        lsp-ui-doc-delay 5
        lsp-ui-sideline-ignore-duplicates t
        lsp-ui-doc-position 'bottom
        lsp-ui-doc-alignment 'frame
        lsp-ui-doc-header nil
        lsp-ui-doc-include-signature t
        lsp-ui-doc-use-childframe t)
  <span class="org-builtin">:commands</span> lsp-ui-mode)

  (use-package lsp-treemacs
    <span class="org-builtin">:after</span> treemacs lsp
    <span class="org-builtin">:ensure</span> t)

  (use-package eglot
    <span class="org-builtin">:ensure</span> t
    <span class="org-builtin">:defer</span> t
    <span class="org-builtin">:init</span>
    (<span class="org-keyword">setq-default</span> eglot-stay-out-of '(eldoc)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4465dea" class="outline-3">
<h3 id="org4465dea">Spell checking with FlySpell</h3>
<div class="outline-text-3" id="text-org4465dea">
<p>
FlySpell does a lot out of the box, therefore I have a very basic config.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package flyspell
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:hook</span>
  ((prog-mode . flyspell-prog-mode)
   (text-mode . turn-on-flyspell))
  <span class="org-builtin">:config</span>
  (flyspell-mode +1))
</pre>
</div>
</div>
</div>

<div id="outline-container-org41dfb87" class="outline-3">
<h3 id="org41dfb87">Grammar checking with LanguageTool</h3>
<div class="outline-text-3" id="text-org41dfb87">
<p>
This is a free and open-source multilingual grammar checker that supports more than thirty languages.
A must-have if you write papers in LaTeX or org-mode. For the Emacs package to work one needs to install
the <a href="https://languagetool.org/">LanguageTool</a> package, and start the HTTP server for example as a systemd unit.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package langtool
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">setq</span> langtool-http-server-host <span class="org-string">"localhost"</span>
        langtool-http-server-port 8081))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge4e2939" class="outline-3">
<h3 id="orge4e2939">Syntax checking with Flycheck</h3>
<div class="outline-text-3" id="text-orge4e2939">
<p>
Flycheck is another helpful tool. It has some limitations though. For instance, the continuous
checking can harm performance, and some checkers can introduce huge penalties (I had to
disable <code>mypy</code>). With this config I only check when saving.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package flycheck
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">setq-default</span> flycheck-disabled-checkers '(python-mypy))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> flycheck-check-syntax-automatically '(save mode-enable))
  (<span class="org-keyword">setq</span> flycheck-scheme-chicken-executable <span class="org-string">"csc"</span>)
  <span class="org-builtin">:hook</span>
  (after-init . global-flycheck-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcf621e5" class="outline-3">
<h3 id="orgcf621e5">Snippets</h3>
<div class="outline-text-3" id="text-orgcf621e5">
<p>
Yasnippet is a fairly complete collection of snippets with a very intuitive syntax. Painful is the absence
of Scheme snippets. I have written some custom snippets for the IRPF90 derived mode, which I also include
here.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package yasnippet
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (yas-global-mode 1))

(use-package yasnippet-snippets
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:after</span> yasnippet)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-yasnippet"># -*- mode: snippet -*-
# name: ASSERT 
# key: ass
# --
ASSERT ($0)%
</pre>
</div>

<div class="org-src-container">
<pre class="src src-yasnippet"># -*- mode: snippet -*-
# name: BEGIN_DOC ... END_DOC
# key: bc
# --
BEGIN_DOC
! $0
END_DOC%   
</pre>
</div>

<div class="org-src-container">
<pre class="src src-yasnippet"># -*- mode: snippet -*-
# name: BEGIN_PROVIDER ... END_PROVIDER 
# key: bp
# --
BEGIN_PROVIDER [${1:integer}, ${2:var}]
    $0
END_PROVIDER%  
</pre>
</div>

<div class="org-src-container">
<pre class="src src-yasnippet"># -*- mode: snippet -*-
# -*- mode: snippet -*-
# name: BEGIN_SHELL ... END_SHELL 
# key: bsh
# --
BEGIN_SHELL [ ${1:/bin/bash} ]
    $0
END_SHELL%  
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org853d56c" class="outline-2">
<h2 id="org853d56c">File browsing and terminals</h2>
<div class="outline-text-2" id="text-org853d56c">
</div>
<div id="outline-container-org31f5aac" class="outline-3">
<h3 id="org31f5aac">Terminal support with Vterm</h3>
<div class="outline-text-3" id="text-org31f5aac">
<p>
This package uses a C library instead of Lisp to emulate the terminals. It is my favorite emulator
currently.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package vterm
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">my/vterm-mode-hook</span> ()
    (hl-line-mode -1)
    (display-line-numbers-mode -1)
    (display-fill-column-indicator-mode -1)
    (auto-fill-mode -1))
  <span class="org-builtin">:hook</span>
  ((vterm-mode . my/vterm-mode-hook))
  <span class="org-builtin">:custom</span>
  (vterm-kill-buffer-on-exit t)
  (vterm-max-scrollback 10000)
  (vterm-tramp-shells '((<span class="org-string">"ssh"</span> <span class="org-string">"/bin/bash"</span>)))
  <span class="org-builtin">:init</span>
  (which-key-add-key-based-replacements <span class="org-string">"C-c t"</span> <span class="org-string">"term"</span>)
  <span class="org-builtin">:config</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Add find-file-other-window to accepted commands</span>
  (add-to-list 'vterm-eval-cmds
               '(<span class="org-string">"find-file-other-window"</span> find-file-other-window)))

(use-package vterm-toggle
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-`"</span> . vterm-toggle-cd)
         <span class="org-builtin">:map</span> vterm-mode-map
         ((<span class="org-string">"&lt;C-return&gt;"</span> . vterm-toggle-insert-cd)
          (<span class="org-string">"C-M-n"</span> . vterm-toggle-forward)
          (<span class="org-string">"C-M-p"</span> . vterm-toggle-backward)))
  <span class="org-builtin">:custom</span>
  (vterm-toggle-scope 'project)
  (vterm-toggle-project-root t)
  (vterm-toggle-fullscreen-p nil)
  <span class="org-builtin">:config</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Show at bottom</span>
  (add-to-list 'display-buffer-alist
               '((<span class="org-keyword">lambda</span>(bufname _)
                   (<span class="org-keyword">with-current-buffer</span> bufname
                     (equal major-mode 'vterm-mode)))
                 <span class="org-comment-delimiter">;; </span><span class="org-comment">(display-buffer-reuse-window display-buffer-at-bottom)</span>
                 (display-buffer-reuse-window display-buffer-in-direction)
                 <span class="org-comment-delimiter">;;</span><span class="org-comment">display-buffer-in-direction/direction/dedicated is added in emacs27</span>
                 (direction . bottom)
                 (dedicated . t) <span class="org-comment-delimiter">;</span><span class="org-comment">dedicated is supported in emacs27</span>
                 (reusable-frames . visible)
                 (window-height . 0.3))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd7e6883" class="outline-3">
<h3 id="orgd7e6883">Terminal support with Eshell</h3>
<div class="outline-text-3" id="text-orgd7e6883">
<p>
This is a command shell written purely in Emacs Lisp. While not being POSIX compliant,
it is still a powerful tool for remote editing due to its native TRAMP support. Here I define
a custom prompt that resembles my Zsh one. Use <code>clear 1</code> to have the same behaviour of
<code>bash</code>'s clear function.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package eshell
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">my-eshell-prompt</span> ()
    <span class="org-doc">"A nice prompt"</span>
    (concat
      <span class="org-string">"("</span> (user-login-name) <span class="org-string">" . "</span>
      (car (reverse (split-string (eshell/pwd) <span class="org-string">"/"</span>))) <span class="org-string">") "</span>))
  <span class="org-builtin">:hook</span>
  ((eshell-mode . (<span class="org-keyword">lambda</span> () 
                    (add-to-list 'eshell-visual-commands <span class="org-string">"ssh"</span>)
                    (add-to-list 'eshell-visual-commands <span class="org-string">"tail"</span>)
                    (add-to-list 'eshell-visual-commands <span class="org-string">"top"</span>)
                    (eshell/alias <span class="org-string">"e"</span> <span class="org-string">"find-file-other-window $1"</span>)
                    (eshell/alias <span class="org-string">"d"</span> <span class="org-string">"dired-other-window $1"</span>) 
                    (eshell/alias <span class="org-string">"mgu"</span> <span class="org-string">"magit-diff-unstaged"</span>)
                    (eshell/alias <span class="org-string">"mg"</span> <span class="org-string">"magit-diff-staged"</span>))))
  <span class="org-builtin">:custom</span>
  (eshell-banner-message (shell-command-to-string <span class="org-string">"figlet Eshell"</span>))
  (eshell-history-size 10000)
  (eshell-hist-ignore-dups t)
  (eshell-buffer-maximum-lines 10000)
  (eshell-scroll-to-bottom-on-input t)
  (eshell-destroy-buffer-when-process-dies t)
  (eshell-prompt-regexp <span class="org-string">"^[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">)]*[</span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">)] "</span>)
  (eshell-prompt-function #'my-eshell-prompt)
  <span class="org-builtin">:config</span>
  (setenv <span class="org-string">"PAGER"</span> <span class="org-string">"cat"</span>))

(use-package eshell-toggle
  <span class="org-builtin">:custom</span>
  (eshell-toggle-size-fraction 3)
  (eshell-toggle-use-projectile-root nil)
  (eshell-toggle-run-command nil)
  (eshell-toggle-init-function #'eshell-toggle-init-eshell)
  <span class="org-builtin">:bind</span>
  (<span class="org-string">"C-c p"</span> . eshell-toggle))
</pre>
</div>
</div>
</div>

<div id="outline-container-org596d7c7" class="outline-3">
<h3 id="org596d7c7">File browsers</h3>
<div class="outline-text-3" id="text-org596d7c7">
<p>
After trying a couple of file browsers I understood that all I needed was already there: <code>dired</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ranger
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:disabled</span>
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> ranger-preview-file t))

(use-package neotree
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:disabled</span>
  <span class="org-builtin">:bind</span> (<span class="org-string">"&lt;f9&gt;"</span> . 'neotree-toggle)
  <span class="org-builtin">:init</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">slow rendering</span>
  (<span class="org-keyword">setq</span> inhibit-compacting-font-caches t)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">set icons theme</span>
  (<span class="org-keyword">setq</span> neo-theme (<span class="org-keyword">if</span> (display-graphic-p) 'icons 'arrow))
  (<span class="org-keyword">setq</span> neo-smart-open t))

(use-package treemacs
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:bind</span>
  (<span class="org-builtin">:map</span> global-map
              (<span class="org-string">"&lt;f8&gt;"</span> . treemacs)))

(use-package treemacs-evil
  <span class="org-builtin">:after</span> (treemacs evil)
  <span class="org-builtin">:ensure</span> t)

(use-package treemacs-magit
  <span class="org-builtin">:after</span> (treemacs magit)
  <span class="org-builtin">:ensure</span> t)

(use-package all-the-icons-dired
  <span class="org-builtin">:ensure</span> t)

(use-package dired
  <span class="org-comment-delimiter">;; </span><span class="org-comment">TIP: use ( to hide file information</span>
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:custom</span> ((dired-listing-switches <span class="org-string">"-agho --group-directories-first"</span>))
  <span class="org-builtin">:commands</span> (dired dired-jump)
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-x C-j"</span> . dired-jump))
  <span class="org-builtin">:hook</span>
  (dired-mode . all-the-icons-dired-mode)
  <span class="org-builtin">:config</span>
  (evil-define-key 'normal 'dired-mode-map
    <span class="org-string">"h"</span> 'dired-single-up-directory
    <span class="org-string">"l"</span> 'dired-single-buffer))

(use-package dired-single
  <span class="org-builtin">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org796fa9c" class="outline-3">
<h3 id="org796fa9c">PDF support</h3>
<div class="outline-text-3" id="text-org796fa9c">
<p>
Another C Library, it works better than the default Emacs PDF viewer, for instance it allows hyperlinks.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package pdf-tools
  <span class="org-builtin">:ensure</span> t
  <span class="org-comment-delimiter">;</span><span class="org-comment">:pin manual</span>
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq-default</span> pdf-view-display-size 'fit-page)
  (<span class="org-keyword">setq</span> pdf-annot-activate-created-annotations t)
  (pdf-tools-install))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1c426e7" class="outline-3">
<h3 id="org1c426e7">TRAMP</h3>
<div class="outline-text-3" id="text-org1c426e7">
<p>
Another must have of Emacs. This package together with dired saves me from configuring
my editor all the time in obscure supercomputers around the world.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package tramp
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:config</span>
  (add-to-list 'tramp-remote-path 'tramp-own-remote-path))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf042de1" class="outline-2">
<h2 id="orgf042de1">Programming</h2>
<div class="outline-text-2" id="text-orgf042de1">
<p>
Here you can find my configuration for different programming languages. I will introduce it
in a laconic manner, because this section is rather opinionated.
</p>
</div>

<div id="outline-container-org0f43533" class="outline-3">
<h3 id="org0f43533">Lisp stuff</h3>
<div class="outline-text-3" id="text-org0f43533">
<p>
The language that gave birth to the "Maxwell equations of software".
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package lispy
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:hook</span> ((emacs-lisp-mode . lispy-mode)
         (scheme-mode . lispy-mode)))

(use-package slime
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:mode</span> (<span class="org-string">"\\.lisp\\'"</span> . lisp-mode)
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">setq</span> slime-net-coding-system 'utf-8-unix
        inferior-lisp-program <span class="org-string">"sbcl"</span>)
  (add-to-list 'slime-contribs 'slime-fancy)
  (add-to-list 'slime-contribs 'slime-repl))

(use-package geiser
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> geiser-active-implementations '(chicken)))

(use-package geiser-chicken
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">setq</span> geiser-chicken-binary <span class="org-string">"csi"</span>))

(use-package racket-mode
  <span class="org-builtin">:ensure</span> t)

(use-package hy-mode
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:mode</span> <span class="org-string">"\\.hy\\'"</span>
  <span class="org-builtin">:commands</span> (hy-mode org-babel-execute:hy)
  <span class="org-builtin">:interpreter</span> <span class="org-string">"hy"</span>
  <span class="org-builtin">:hook</span>
  (hy-mode . company-mode)
  (hy-mode . (<span class="org-keyword">lambda</span> () (lispy-mode 1)))
  <span class="org-builtin">:config</span>
  (add-hook 'hy-mode-hook #'paredit-mode)
  (add-hook 'hy-mode-hook #'rainbow-delimiters-mode))
</pre>
</div>

<p>
Sometimes it is very useful to expand Emacs Lisp macros to better understand their functionality.
For this, the <code>macrostep</code> package comes very handy.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package macrostep
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> emacs-lisp-mode-map
              (<span class="org-string">"C-c e"</span> . macrostep-expand)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org592cb90" class="outline-3">
<h3 id="org592cb90">FORTRAN stuff</h3>
<div class="outline-text-3" id="text-org592cb90">
<p>
FORTRAN is a major component of my job as a physicist, this package provides all I need. 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package f90-mode
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:mode</span> (<span class="org-string">"\\.f90\\'"</span>)
  <span class="org-builtin">:hook</span>
  (f90-mode . (<span class="org-keyword">lambda</span> () (<span class="org-keyword">setq</span> flycheck-gfortran-args <span class="org-string">"-ffree-form"</span>))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org028bc64" class="outline-3">
<h3 id="org028bc64">IRPF90</h3>
<div class="outline-text-3" id="text-org028bc64">
<p>
<a href="http://irpf90.ups-tlse.fr/">IRPF90</a> is an environment that allows for efficient functional programming in FORTRAN
using the Implicit Reference to Parameters (IRP) method. I have developed a derived
mode for IRPF90:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">irp-mode.el --- A major mode for dealing with IRPF90 files</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">An attempt to support Scemama's IRPF90 in Emacs</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Define IRPF90 extended FORTRAN syntax</span>

(<span class="org-keyword">defvar</span> <span class="org-variable-name">irp-font-lock-keywords</span>)

(<span class="org-keyword">setq</span> irp-font-lock-keywords
      (<span class="org-keyword">let*</span> (
             <span class="org-comment-delimiter">;; </span><span class="org-comment">Define different keywords</span>
             (x-keywords '(<span class="org-string">"BEGIN_PROVIDER"</span> <span class="org-string">"END_PROVIDER"</span> <span class="org-string">"ASSERT"</span>
                            <span class="org-string">"FREE"</span> <span class="org-string">"PROVIDE"</span> <span class="org-string">"BEGIN_TEMPLATE"</span>
                            <span class="org-string">"END_TEMPLATE"</span> <span class="org-string">"BEGIN_SHELL"</span>
                            <span class="org-string">"END_SHELL"</span> <span class="org-string">"IRP_IF"</span> <span class="org-string">"IRP_ELSE"</span> <span class="org-string">"TOUCH"</span>
                            <span class="org-string">"SOFT_TOUCH"</span>))
             (x-types '(<span class="org-string">"double precision"</span> <span class="org-string">"integer"</span>))
             (x-comments '(<span class="org-string">"BEGIN_DOC"</span> <span class="org-string">"END_DOC"</span>))

             <span class="org-comment-delimiter">;; </span><span class="org-comment">Generate regex</span>
             (x-keywords-regexp (regexp-opt x-keywords 'words))
             (x-types-regexp (regexp-opt x-types 'words))
             (x-comments-regexp (regexp-opt x-comments 'words)))

        `(
          (,x-types-regexp . font-lock-type-face)
          (,x-keywords-regexp . font-lock-preprocessor-face)
          (,x-comments-regexp . font-lock-comment-face)
          )))

<span class="org-comment-delimiter">;;;</span><span class="org-comment">###</span><span class="org-comment"><span class="org-warning">autoload</span></span>
(<span class="org-keyword">define-derived-mode</span> <span class="org-function-name">irp-mode</span> f90-mode <span class="org-string">"irp mode"</span>
  <span class="org-doc">"Major mode for editing IRPF90 files."</span>
  <span class="org-builtin">:syntax-table</span> nil
  <span class="org-builtin">:abbrev-table</span> nil
  (font-lock-add-keywords nil irp-font-lock-keywords))

(<span class="org-keyword">provide</span> '<span class="org-constant">irp-mode</span>)
<span class="org-comment-delimiter">;;; </span><span class="org-comment">irp-mode.el ends here</span>
</pre>
</div>

<p>
This mode can be also configured with <code>use-package</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package irp-mode
  <span class="org-builtin">:mode</span> (<span class="org-string">"\\.irp.f\\'"</span>)
  <span class="org-builtin">:load-path</span> <span class="org-string">"~/.emacs.d/lib"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgff0887a" class="outline-3">
<h3 id="orgff0887a">C/C++ stuff</h3>
<div class="outline-text-3" id="text-orgff0887a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ccls
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:hook</span> ((c-mode c++-mode objc-mode cuda-mode) .
         (<span class="org-keyword">lambda</span> () (<span class="org-keyword">require</span> '<span class="org-constant">ccls</span>) (lsp)))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> c-basic-offset 6)
  (<span class="org-keyword">setq</span> c-default-style '((java-mode . <span class="org-string">"java"</span>)
                          (awk-mode . <span class="org-string">"awk"</span>)
                          (other . <span class="org-string">"linux"</span>))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdcd7d00" class="outline-3">
<h3 id="orgdcd7d00">Python stuff</h3>
<div class="outline-text-3" id="text-orgdcd7d00">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package python
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> python-shell-interpreter <span class="org-string">"jupyter"</span>
        python-shell-interpreter-args <span class="org-string">"console --simple-prompt"</span>
        python-shell-prompt-detect-failure-warning nil)
  (add-to-list 'python-shell-completion-native-disabled-interpreters <span class="org-string">"jupyter"</span>))

(use-package pyvenv
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:demand</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> pyvenv-workon <span class="org-string">"emacs"</span>)
  (pyvenv-tracking-mode 1))

(use-package py-autopep8
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:hook</span> ((python-mode) . py-autopep8-mode))
</pre>
</div>

<p>
Additional support for Jupyter notebooks:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package jupyter
  <span class="org-builtin">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org21d5d77" class="outline-3">
<h3 id="org21d5d77">Cuda stuff</h3>
<div class="outline-text-3" id="text-org21d5d77">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package cuda-mode
    <span class="org-builtin">:mode</span> <span class="org-string">"\\.cu\\'"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf1aee4b" class="outline-3">
<h3 id="orgf1aee4b">Julia stuff</h3>
<div class="outline-text-3" id="text-orgf1aee4b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package julia-mode
  <span class="org-builtin">:mode</span> <span class="org-string">"\\.jl\\'"</span>)

(use-package flycheck-julia
  <span class="org-builtin">:hook</span> (julia-mode . flycheck-julia-setup))
</pre>
</div>
</div>
</div>

<div id="outline-container-org6cdbe76" class="outline-3">
<h3 id="org6cdbe76">Haskell stuff</h3>
<div class="outline-text-3" id="text-org6cdbe76">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package haskell-mode
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:custom</span>
  (haskell-process-load-or-reload-prompt t)
  (haskell-process-auto-import-loaded-modules t)
  (haskell-process-log t)
  (haskell-tags-on-save t))

(use-package flycheck-haskell
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq-default</span> flycheck-disabled-checkers '(haskell-stack-ghc))
  (add-hook 'haskell-mode-hook #'flycheck-haskell-setup))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1d6101c" class="outline-3">
<h3 id="org1d6101c">Makefile stuff</h3>
<div class="outline-text-3" id="text-org1d6101c">
<p>
Here it is important to mention that the following <code>use-package</code> declaration exists solely
for aesthetic and organizational purposes. If we <code>macrostep-expand</code> it, we can convince ourselves: 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package make-mode
   <span class="org-builtin">:ensure</span> nil)
</pre>
</div>

<p>
which expands to
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">progn</span>
  (use-package-ensure-elpa 'make-mode
                           '(nil)
                           'nil)
  (<span class="org-keyword">defvar</span> <span class="org-variable-name">use-package--warning79</span>
    (<span class="org-keyword">function</span>
     (<span class="org-keyword">lambda</span>
       (keyword err)
       (<span class="org-keyword">let</span>
           ((msg
             (format <span class="org-string">"%s/%s: %s"</span> 'make-mode keyword
                     (error-message-string err))))
         (display-warning 'use-package msg <span class="org-builtin">:error</span>)))))
  (<span class="org-keyword">condition-case-unless-debug</span> err
      (<span class="org-keyword">if</span>
          (not
           (<span class="org-keyword">require</span> '<span class="org-constant">make-mode</span> nil t))
          (display-warning 'use-package
                           (format <span class="org-string">"Cannot load %s"</span> 'make-mode)
                           <span class="org-builtin">:error</span>))
    (<span class="org-warning">error</span>
     (funcall use-package--warning79 <span class="org-builtin">:catch</span> err))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbe49e01" class="outline-3">
<h3 id="orgbe49e01">Perl stuff</h3>
<div class="outline-text-3" id="text-orgbe49e01">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package cperl-mode
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:mode</span> (<span class="org-string">"\\.</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(</span></span><span class="org-string">[pP][Llm]</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">al</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">\\'"</span> . cperl-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc176d41" class="outline-3">
<h3 id="orgc176d41">Raku stuff</h3>
<div class="outline-text-3" id="text-orgc176d41">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package raku-mode
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:mode</span> <span class="org-string">"\\.raku\\'"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5516ab3" class="outline-3">
<h3 id="org5516ab3">Latex</h3>
<div class="outline-text-3" id="text-org5516ab3">
<p>
Auctex provides all you will ever need to work with Latex, and more. 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package auctex
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:mode</span> (<span class="org-string">"\\.tex\\'"</span> . latex-mode)
  <span class="org-builtin">:commands</span> (latex-mode LaTeX-mode plain-tex-mode)
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">progn</span>
    (add-hook 'LaTeX-mode-hook #'LaTeX-preview-setup)
    (add-hook 'LaTeX-mode-hook 'LaTeX-math-mode)
    (add-hook 'LaTeX-mode-hook #'flyspell-mode)
    (add-hook 'LaTeX-mode-hook #'turn-on-reftex)
    (<span class="org-keyword">setq</span> TeX-auto-save t
          TeX-parse-self t
          TeX-save-query nil
          TeX-PDF-mode t)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge7afada" class="outline-3">
<h3 id="orge7afada">Org-mode stuff</h3>
<div class="outline-text-3" id="text-orge7afada">
<p>
<a id="org661e10b"></a>
</p>

<p>
Org-mode is the package allowing me to have this literate configuration. Org-superstar
makes org-mode files look gorgeous.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package org-tempo
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:after</span> org
  <span class="org-builtin">:hook</span>
  (org-mode . (<span class="org-keyword">lambda</span> () (add-hook 'after-save-hook #'org-babel-tangle <span class="org-builtin">:append</span> <span class="org-builtin">:local</span>)))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">require</span> '<span class="org-constant">ox-beamer</span>)
  (<span class="org-keyword">require</span> '<span class="org-constant">ol-bibtex</span>)
  (add-to-list 'org-modules 'org-tempo)
  (org-babel-do-load-languages
   'org-babel-load-languages '((fortran . t)
                               (python . t)
                               (jupyter . t)
                               (emacs-lisp . t)
                               (C . t)
                               (org . t)
                               (gnuplot . t)
                               (awk . t)
                               (latex . t)
                               (shell . t)))
  (<span class="org-keyword">setq</span> org-latex-pdf-process '(<span class="org-string">"latexmk -shell-escape -pdf -outdir=%o %f"</span>))
  (<span class="org-keyword">setq</span> org-preview-latex-default-process 'imagemagick)
  (<span class="org-keyword">setq</span> org-file-apps '((<span class="org-string">"\\.pdf\\'"</span> . <span class="org-string">"evince %s"</span>)))
  (<span class="org-keyword">setq</span> org-startup-indented t)
  (<span class="org-keyword">setq</span> org-latex-listings 'minted
        org-latex-packages-alist '((<span class="org-string">""</span> <span class="org-string">"minted"</span>)))
  (<span class="org-keyword">setq</span> org-startup-with-inline-images t)
  (<span class="org-keyword">setq</span> org-todo-keywords
    '((sequence <span class="org-string">"TODO(t)"</span> <span class="org-string">"BROKEN(b)"</span> <span class="org-string">"FEEDBACK(f)"</span> <span class="org-string">"VERIFY(v)"</span> <span class="org-string">"URGENT(u)"</span>
       <span class="org-string">"|"</span> <span class="org-string">"DONE(d)"</span> <span class="org-string">"OPTIONAL(o)"</span> <span class="org-string">"DELEGATED(d)"</span> <span class="org-string">"IRRELEVANT(i)"</span>)))
  (plist-put org-format-latex-options <span class="org-builtin">:scale</span> 3.0)
  (add-hook 'org-babel-after-execute-hook 'org-redisplay-inline-images))

(use-package org-superstar
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (add-hook 'org-mode-hook (<span class="org-keyword">lambda</span> () (org-superstar-mode 1))))

(use-package ox-reveal
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:after</span> org
  <span class="org-builtin">:custom</span>
  (org-reveal-root <span class="org-string">"file:///home/loren/bin/reveal.js"</span>)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> org-reveal-mathjax t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org3331321" class="outline-3">
<h3 id="org3331321">Web stuff</h3>
<div class="outline-text-3" id="text-org3331321">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package php-mode
  <span class="org-builtin">:mode</span> (<span class="org-string">"\\.php\\'"</span>))

(use-package web-mode
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:mode</span> (<span class="org-string">"\\.html\\'"</span> <span class="org-string">"\\.htm\\'"</span> <span class="org-string">"\\.css\\'"</span>)
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-c C-v"</span> . browse-url-of-buffer))
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">webmd-hooks-mine</span> ()
    <span class="org-doc">"Some hooks for web mode."</span>
    (<span class="org-keyword">setq</span> web-mode-markup-indent-offset 2)
    (<span class="org-keyword">setq</span> web-mode-css-indent-offset 2)
    (<span class="org-keyword">setq</span> web-mode-code-indent-offset 2)
    (<span class="org-keyword">setq</span> web-mode-enable-current-column-highlight t)
    (<span class="org-keyword">setq</span> web-mode-enable-current-element-highlight t)
    (set-face-attribute 'web-mode-html-tag-bracket-face nil <span class="org-builtin">:foreground</span> <span class="org-string">"red"</span>))

  (<span class="org-keyword">defun</span> <span class="org-function-name">web-mode-flyspell-verify</span> ()
    <span class="org-doc">"Make flyspell behave correctly in web mode."</span>
    (<span class="org-keyword">let</span> ((f (get-text-property (- (point) 1) 'face)))
      (not (memq f '(web-mode-html-attr-value-face
                     web-mode-html-tag-face
                     web-mode-html-attr-name-face
                     web-mode-doctype-face
                     web-mode-keyword-face
                     web-mode-function-name-face
                     web-mode-variable-name-face
                     web-mode-css-property-name-face
                     web-mode-css-selector-face
                     web-mode-css-color-face
                     web-mode-type-face)
                 ))))
  (put 'web-mode 'flyspell-mode-predicate 'web-mode-flyspell-verify)
  <span class="org-builtin">:hook</span>
  ((web-mode . company-mode)
   (web-mode . emmet-mode)
   (web-mode . (<span class="org-keyword">lambda</span> () (flyspell-mode 1)))
   (web-mode . webmd-hooks-mine)))

(use-package emmet-mode
  <span class="org-builtin">:ensure</span> t)

(use-package js-mode <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:mode</span> (<span class="org-string">"\\.js\\'"</span>))

(use-package simple-httpd
  <span class="org-builtin">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org21c4e09" class="outline-3">
<h3 id="org21c4e09">YAML stuff</h3>
<div class="outline-text-3" id="text-org21c4e09">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package yaml-mode
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:mode</span> <span class="org-string">"</span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">.ya?ml</span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">'"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8141a62" class="outline-3">
<h3 id="org8141a62">Markdown stuff</h3>
<div class="outline-text-3" id="text-org8141a62">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package markdown-mode
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">setq-default</span> markdown-hide-markup t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0b50ab8" class="outline-3">
<h3 id="org0b50ab8">reStructuredText stuff</h3>
<div class="outline-text-3" id="text-org0b50ab8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package rst
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:mode</span> (<span class="org-string">"\\.rst\\'"</span> . rst-mode)
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> rst-mode-map
              (<span class="org-string">"M-a"</span> . rst-backward-section)
              (<span class="org-string">"M-e"</span> . rst-forward-section))
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">setq</span> rst-indent-width 2))
</pre>
</div>
</div>
</div>

<div id="outline-container-org94a9e09" class="outline-3">
<h3 id="org94a9e09">Lua stuff</h3>
<div class="outline-text-3" id="text-org94a9e09">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package lua-mode
  <span class="org-builtin">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org80e8c55" class="outline-3">
<h3 id="org80e8c55">JSON stuff</h3>
<div class="outline-text-3" id="text-org80e8c55">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package json-mode
  <span class="org-builtin">:mode</span> <span class="org-string">"\\.json\\'"</span>)

(use-package flymake-json
  <span class="org-builtin">:hook</span> (json-mode . flymake-json-load))
</pre>
</div>
</div>
</div>

<div id="outline-container-org538599a" class="outline-3">
<h3 id="org538599a">Cmake stuff</h3>
<div class="outline-text-3" id="text-org538599a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package cmake-mode
  <span class="org-builtin">:mode</span> (<span class="org-string">"CMakeLists\\.txt\\'"</span> <span class="org-string">"\\.cmake</span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">(.in</span><span class="org-string"><span class="org-warning">\</span></span><span class="org-string">)?\\'"</span>)
  <span class="org-builtin">:config</span>
  (add-to-list 'company-backends 'company-cmake))

(use-package eldoc-cmake
  <span class="org-builtin">:after</span> company
  <span class="org-builtin">:hook</span> (cmake-mode . eldoc-cmake-enable))

(use-package cmake-font-lock
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:preface</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">my-cmake-font-lock</span> ()
    (<span class="org-keyword">let</span> ((auto-refresh-defaults (boundp 'font-lock-keywords)))
      (cmake-font-lock-activate)
      (<span class="org-keyword">when</span> auto-refresh-defaults
  (font-lock-refresh-defaults))))
  <span class="org-builtin">:init</span>
  (add-hook 'cmake-mode-hook #'my-cmake-font-lock))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd5fb7d2" class="outline-3">
<h3 id="orgd5fb7d2">Git stuff</h3>
<div class="outline-text-3" id="text-orgd5fb7d2">
<p>
A porcelain as glorious as the one from Meißen:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package magit
  <span class="org-builtin">:ensure</span> t)

(use-package git-modes
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:mode</span> ((<span class="org-string">"\\.gitattributes\\'"</span> . gitattributes-mode)
   (<span class="org-string">"\\.gitconfig\\'"</span> . gitconfig-mode)
   (<span class="org-string">"\\.gitignore\\'"</span> . gitignore-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org97706e9" class="outline-3">
<h3 id="org97706e9">The heretic Vim stuff</h3>
<div class="outline-text-3" id="text-org97706e9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package vimrc-mode
  <span class="org-builtin">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org3f89f6e" class="outline-3">
<h3 id="org3f89f6e">Nix stuff</h3>
<div class="outline-text-3" id="text-org3f89f6e">
<p>
Syntax highlighting for Nix expression's language files
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package nix-mode
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:mode</span> <span class="org-string">"\\.nix\\'"</span>)
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="validation"></p>
</div>
</body>
</html>
